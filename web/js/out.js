/*


 SoundManager 2: JavaScript Sound for the Web
 ----------------------------------------------
 http://schillmania.com/projects/soundmanager2/

 Copyright (c) 2007, Scott Schiller. All rights reserved.
 Code provided under the BSD License:
 http://schillmania.com/projects/soundmanager2/license.txt

 V2.97a.20150601
*/
(function(h,g){function w(gb,w){function Z(b){return c.preferFlash&&A&&!c.ignoreFlash&&c.flash[b]!==g&&c.flash[b]}function r(b){return function(c){var d=this._s;return d&&d._a?b.call(this,c):null}}this.setupOptions={url:gb||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1E3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,
forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,
useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus",
"audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=w||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20150601";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};
this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var N,c=this,Oa=null,k=null,aa,u=navigator.userAgent,Pa=h.location.href.toString(),p=document,pa,Qa,qa,m,y=[],O=!1,P=!1,l=!1,B=!1,ra=!1,Q,x,sa,ba,ta,F,H,I,Ra,ua,va,ca,J,da,G,wa,R,xa,ea,K,Sa,ya,Ta,za,Ua,S=null,Aa=null,T,Ba,L,fa,ga,q,U=!1,Ca=!1,Va,Wa,Xa,ha=0,V=null,ia,W=[],X,v=null,Ya,ja,Y,D,ka,Da,Za,t,hb=Array.prototype.slice,
z=!1,Ea,A,Fa,$a,C,la,ab=0,Ga,Ha=u.match(/(ipad|iphone|ipod)/i),Ia=u.match(/android/i),E=u.match(/msie/i),ib=u.match(/webkit/i),ma=u.match(/safari/i)&&!u.match(/chrome/i),Ja=u.match(/opera/i),na=u.match(/(mobile|pre\/|xoom)/i)||Ha||Ia,bb=!Pa.match(/usehtml5audio/i)&&!Pa.match(/sm2\-ignorebadua/i)&&ma&&!u.match(/silk/i)&&u.match(/OS X 10_6_([3-7])/i),Ka=p.hasFocus!==g?p.hasFocus():null,oa=ma&&(p.hasFocus===g||!p.hasFocus()),cb=!oa,db=/(mp3|mp4|mpa|m4a|m4b)/i,La=p.location?p.location.protocol.match(/http/i):
null,jb=La?"":"http://",eb=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,fb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),kb=new RegExp("\\.("+fb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!La;var Ma;try{Ma=Audio!==g&&(Ja&&opera!==g&&10>opera.version()?new Audio(null):new Audio).canPlayType!==g}catch(lb){Ma=!1}this.hasHTML5=Ma;this.setup=function(b){var e=!c.url;b!==g&&l&&v&&c.ok();
sa(b);if(!z)if(na){if(!c.setupOptions.ignoreMobileRestrictions||c.setupOptions.forceUseGlobalHTML5Audio)W.push(J.globalHTML5),z=!0}else c.setupOptions.forceUseGlobalHTML5Audio&&(W.push(J.globalHTML5),z=!0);if(!Ga&&na)if(c.setupOptions.ignoreMobileRestrictions)W.push(J.ignoreMobile);else if(c.setupOptions.useHTML5Audio=!0,c.setupOptions.preferFlash=!1,Ha)c.ignoreFlash=!0;else if(Ia&&!u.match(/android\s2\.3/i)||!Ia)z=!0;b&&(e&&R&&b.url!==g&&c.beginDelayedInit(),R||b.url===g||"complete"!==p.readyState||
setTimeout(G,1));Ga=!0;return c};this.supported=this.ok=function(){return v?l&&!B:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(b){return aa(b)||p[b]||h[b]};this.createSound=function(b,e){function d(){a=fa(a);c.sounds[a.id]=new N(a);c.soundIDs.push(a.id);return c.sounds[a.id]}var a,f=null;if(!l||!c.ok())return!1;e!==g&&(b={id:b,url:e});a=x(b);a.url=ia(a.url);a.id===g&&(a.id=c.setupOptions.idPrefix+ab++);if(q(a.id,!0))return c.sounds[a.id];if(ja(a))f=d(),f._setup_html5(a);else{if(c.html5Only||
c.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return d();8<m&&null===a.isMovieStar&&(a.isMovieStar=!!(a.serverURL||a.type&&a.type.match(eb)||a.url&&a.url.match(kb)));a=ga(a,void 0);f=d();8===m?k._createSound(a.id,a.loops||1,a.usePolicyFile):(k._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(f.connected=!0,a.onconnect&&a.onconnect.apply(f)));
a.serverURL||!a.autoLoad&&!a.autoPlay||f.load(a)}!a.serverURL&&a.autoPlay&&f.play();return f};this.destroySound=function(b,e){if(!q(b))return!1;var d=c.sounds[b],a;d.stop();d._iO={};d.unload();for(a=0;a<c.soundIDs.length;a++)if(c.soundIDs[a]===b){c.soundIDs.splice(a,1);break}e||d.destruct(!0);delete c.sounds[b];return!0};this.load=function(b,e){return q(b)?c.sounds[b].load(e):!1};this.unload=function(b){return q(b)?c.sounds[b].unload():!1};this.onposition=this.onPosition=function(b,e,d,a){return q(b)?
c.sounds[b].onposition(e,d,a):!1};this.clearOnPosition=function(b,e,d){return q(b)?c.sounds[b].clearOnPosition(e,d):!1};this.start=this.play=function(b,e){var d=null,a=e&&!(e instanceof Object);if(!l||!c.ok())return!1;if(q(b,a))a&&(e={url:e});else{if(!a)return!1;a&&(e={url:e});e&&e.url&&(e.id=b,d=c.createSound(e).play())}null===d&&(d=c.sounds[b].play(e));return d};this.setPosition=function(b,e){return q(b)?c.sounds[b].setPosition(e):!1};this.stop=function(b){return q(b)?c.sounds[b].stop():!1};this.stopAll=
function(){for(var b in c.sounds)c.sounds.hasOwnProperty(b)&&c.sounds[b].stop()};this.pause=function(b){return q(b)?c.sounds[b].pause():!1};this.pauseAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].pause()};this.resume=function(b){return q(b)?c.sounds[b].resume():!1};this.resumeAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].resume()};this.togglePause=function(b){return q(b)?c.sounds[b].togglePause():!1};this.setPan=function(b,e){return q(b)?
c.sounds[b].setPan(e):!1};this.setVolume=function(b,e){var d,a;if(b===g||isNaN(b)||e!==g)return q(b)?c.sounds[b].setVolume(e):!1;d=0;for(a=c.soundIDs.length;d<a;d++)c.sounds[c.soundIDs[d]].setVolume(b)};this.mute=function(b){var e=0;b instanceof String&&(b=null);if(b)return q(b)?c.sounds[b].mute():!1;for(e=c.soundIDs.length-1;0<=e;e--)c.sounds[c.soundIDs[e]].mute();return c.muted=!0};this.muteAll=function(){c.mute()};this.unmute=function(b){b instanceof String&&(b=null);if(b)return q(b)?c.sounds[b].unmute():
!1;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].unmute();c.muted=!1;return!0};this.unmuteAll=function(){c.unmute()};this.toggleMute=function(b){return q(b)?c.sounds[b].toggleMute():!1};this.getMemoryUse=function(){var b=0;k&&8!==m&&(b=parseInt(k._getMemoryUse(),10));return b};this.disable=function(b){var e;b===g&&(b=!1);if(B)return!1;B=!0;for(e=c.soundIDs.length-1;0<=e;e--)Ta(c.sounds[c.soundIDs[e]]);Q(b);t.remove(h,"load",H);return!0};this.canPlayMIME=function(b){var e;c.hasHTML5&&
(e=Y({type:b}));!e&&v&&(e=b&&c.ok()?!!(8<m&&b.match(eb)||b.match(c.mimePattern)):null);return e};this.canPlayURL=function(b){var e;c.hasHTML5&&(e=Y({url:b}));!e&&v&&(e=b&&c.ok()?!!b.match(c.filePattern):null);return e};this.canPlayLink=function(b){return b.type!==g&&b.type&&c.canPlayMIME(b.type)?!0:c.canPlayURL(b.href)};this.getSoundById=function(b,e){return b?c.sounds[b]:null};this.onready=function(b,c){if("function"===typeof b)c||(c=h),ta("onready",b,c),F();else throw T("needFunction","onready");
return!0};this.ontimeout=function(b,c){if("function"===typeof b)c||(c=h),ta("ontimeout",b,c),F({type:"ontimeout"});else throw T("needFunction","ontimeout");return!0};this._wD=this._writeDebug=function(b,c){return!0};this._debug=function(){};this.reboot=function(b,e){var d,a,f;for(d=c.soundIDs.length-1;0<=d;d--)c.sounds[c.soundIDs[d]].destruct();if(k)try{E&&(Aa=k.innerHTML),S=k.parentNode.removeChild(k)}catch(g){}Aa=S=v=k=null;c.enabled=R=l=U=Ca=O=P=B=z=c.swfLoaded=!1;c.soundIDs=[];c.sounds={};ab=
0;Ga=!1;if(b)y=[];else for(d in y)if(y.hasOwnProperty(d))for(a=0,f=y[d].length;a<f;a++)y[d][a].fired=!1;c.html5={usingFlash:null};c.flash={};c.html5Only=!1;c.ignoreFlash=!1;h.setTimeout(function(){e||c.beginDelayedInit()},20);return c};this.reset=function(){return c.reboot(!0,!0)};this.getMoviePercent=function(){return k&&"PercentLoaded"in k?k.PercentLoaded():null};this.beginDelayedInit=function(){ra=!0;G();setTimeout(function(){if(Ca)return!1;ea();da();return Ca=!0},20);I()};this.destruct=function(){c.disable(!0)};
N=function(b){var e,d,a=this,f,n,h,M,p,r,u=!1,l=[],v=0,y,B,w=null,A;d=e=null;this.sID=this.id=b.id;this.url=b.url;this._iO=this.instanceOptions=this.options=x(b);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;A=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(b){var e=null,d;b!==g?a._iO=x(b,a.options):(b=a.options,a._iO=b,w&&w!==a.url&&(a._iO.url=a.url,a.url=null));a._iO.url||(a._iO.url=a.url);a._iO.url=ia(a._iO.url);d=a.instanceOptions=
a._iO;if(!d.url&&!a.url)return a;if(d.url===a.url&&0!==a.readyState&&2!==a.readyState)return 3===a.readyState&&d.onload&&la(a,function(){d.onload.apply(a,[!!a.duration])}),a;a.loaded=!1;a.readyState=1;a.playState=0;a.id3={};if(ja(d))e=a._setup_html5(d),e._called_load||(a._html5_canplay=!1,a.url!==d.url&&(a._a.src=d.url,a.setPosition(0)),a._a.autobuffer="auto",a._a.preload="auto",a._a._called_load=!0);else{if(c.html5Only||a._iO.url&&a._iO.url.match(/data\:/i))return a;try{a.isHTML5=!1,a._iO=ga(fa(d)),
a._iO.autoPlay&&(a._iO.position||a._iO.from)&&(a._iO.autoPlay=!1),d=a._iO,8===m?k._load(a.id,d.url,d.stream,d.autoPlay,d.usePolicyFile):k._load(a.id,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}catch(f){K({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}a.url=d.url;return a};this.unload=function(){0!==a.readyState&&(a.isHTML5?(M(),a._a&&(a._a.pause(),w=ka(a._a))):8===m?k._unload(a.id,"about:blank"):k._unload(a.id),f());return a};this.destruct=function(b){a.isHTML5?(M(),a._a&&
(a._a.pause(),ka(a._a),z||h(),a._a._s=null,a._a=null)):(a._iO.onfailure=null,k._destroySound(a.id));b||c.destroySound(a.id,!0)};this.start=this.play=function(b,e){var d,f,n,h,Na;f=!0;f=null;e=e===g?!0:e;b||(b={});a.url&&(a._iO.url=a.url);a._iO=x(a._iO,a.options);a._iO=x(b,a._iO);a._iO.url=ia(a._iO.url);a.instanceOptions=a._iO;if(!a.isHTML5&&a._iO.serverURL&&!a.connected)return a.getAutoPlay()||a.setAutoPlay(!0),a;ja(a._iO)&&(a._setup_html5(a._iO),p());1!==a.playState||a.paused||(d=a._iO.multiShot,
d||(a.isHTML5&&a.setPosition(a._iO.position),f=a));if(null!==f)return f;b.url&&b.url!==a.url&&(a.readyState||a.isHTML5||8!==m||!A?a.load(a._iO):A=!1);a.loaded||(0===a.readyState?(a.isHTML5||c.html5Only?a.isHTML5?a.load(a._iO):f=a:(a._iO.autoPlay=!0,a.load(a._iO)),a.instanceOptions=a._iO):2===a.readyState&&(f=a));if(null!==f)return f;!a.isHTML5&&9===m&&0<a.position&&a.position===a.duration&&(b.position=0);if(a.paused&&0<=a.position&&(!a._iO.serverURL||0<a.position))a.resume();else{a._iO=x(b,a._iO);
if((!a.isHTML5&&null!==a._iO.position&&0<a._iO.position||null!==a._iO.from&&0<a._iO.from||null!==a._iO.to)&&0===a.instanceCount&&0===a.playState&&!a._iO.serverURL){d=function(){a._iO=x(b,a._iO);a.play(a._iO)};a.isHTML5&&!a._html5_canplay?(a.load({_oncanplay:d}),f=!1):a.isHTML5||a.loaded||a.readyState&&2===a.readyState||(a.load({onload:d}),f=!1);if(null!==f)return f;a._iO=B()}(!a.instanceCount||a._iO.multiShotEvents||a.isHTML5&&a._iO.multiShot&&!z||!a.isHTML5&&8<m&&!a.getAutoPlay())&&a.instanceCount++;
a._iO.onposition&&0===a.playState&&r(a);a.playState=1;a.paused=!1;a.position=a._iO.position===g||isNaN(a._iO.position)?0:a._iO.position;a.isHTML5||(a._iO=ga(fa(a._iO)));a._iO.onplay&&e&&(a._iO.onplay.apply(a),u=!0);a.setVolume(a._iO.volume,!0);a.setPan(a._iO.pan,!0);a.isHTML5?2>a.instanceCount?(p(),f=a._setup_html5(),a.setPosition(a._iO.position),f.play()):(n=new Audio(a._iO.url),h=function(){t.remove(n,"ended",h);a._onfinish(a);ka(n);n=null},Na=function(){t.remove(n,"canplay",Na);try{n.currentTime=
a._iO.position/1E3}catch(b){}n.play()},t.add(n,"ended",h),a._iO.volume!==g&&(n.volume=Math.max(0,Math.min(1,a._iO.volume/100))),a.muted&&(n.muted=!0),a._iO.position?t.add(n,"canplay",Na):n.play()):(f=k._start(a.id,a._iO.loops||1,9===m?a.position:a.position/1E3,a._iO.multiShot||!1),9!==m||f||a._iO.onplayerror&&a._iO.onplayerror.apply(a))}return a};this.stop=function(b){var c=a._iO;1===a.playState&&(a._onbufferchange(0),a._resetOnPosition(0),a.paused=!1,a.isHTML5||(a.playState=0),y(),c.to&&a.clearOnPosition(c.to),
a.isHTML5?a._a&&(b=a.position,a.setPosition(0),a.position=b,a._a.pause(),a.playState=0,a._onTimer(),M()):(k._stop(a.id,b),c.serverURL&&a.unload()),a.instanceCount=0,a._iO={},c.onstop&&c.onstop.apply(a));return a};this.setAutoPlay=function(b){a._iO.autoPlay=b;a.isHTML5||(k._setAutoPlay(a.id,b),b&&(a.instanceCount||1!==a.readyState||a.instanceCount++))};this.getAutoPlay=function(){return a._iO.autoPlay};this.setPosition=function(b){b===g&&(b=0);var c=a.isHTML5?Math.max(b,0):Math.min(a.duration||a._iO.duration,
Math.max(b,0));a.position=c;b=a.position/1E3;a._resetOnPosition(a.position);a._iO.position=c;if(!a.isHTML5)b=9===m?a.position:b,a.readyState&&2!==a.readyState&&k._setPosition(a.id,b,a.paused||!a.playState,a._iO.multiShot);else if(a._a){if(a._html5_canplay){if(a._a.currentTime!==b)try{a._a.currentTime=b,(0===a.playState||a.paused)&&a._a.pause()}catch(e){}}else if(b)return a;a.paused&&a._onTimer(!0)}return a};this.pause=function(b){if(a.paused||0===a.playState&&1!==a.readyState)return a;a.paused=!0;
a.isHTML5?(a._setup_html5().pause(),M()):(b||b===g)&&k._pause(a.id,a._iO.multiShot);a._iO.onpause&&a._iO.onpause.apply(a);return a};this.resume=function(){var b=a._iO;if(!a.paused)return a;a.paused=!1;a.playState=1;a.isHTML5?(a._setup_html5().play(),p()):(b.isMovieStar&&!b.serverURL&&a.setPosition(a.position),k._pause(a.id,b.multiShot));!u&&b.onplay?(b.onplay.apply(a),u=!0):b.onresume&&b.onresume.apply(a);return a};this.togglePause=function(){if(0===a.playState)return a.play({position:9!==m||a.isHTML5?
a.position/1E3:a.position}),a;a.paused?a.resume():a.pause();return a};this.setPan=function(b,c){b===g&&(b=0);c===g&&(c=!1);a.isHTML5||k._setPan(a.id,b);a._iO.pan=b;c||(a.pan=b,a.options.pan=b);return a};this.setVolume=function(b,e){b===g&&(b=100);e===g&&(e=!1);a.isHTML5?a._a&&(c.muted&&!a.muted&&(a.muted=!0,a._a.muted=!0),a._a.volume=Math.max(0,Math.min(1,b/100))):k._setVolume(a.id,c.muted&&!a.muted||a.muted?0:b);a._iO.volume=b;e||(a.volume=b,a.options.volume=b);return a};this.mute=function(){a.muted=
!0;a.isHTML5?a._a&&(a._a.muted=!0):k._setVolume(a.id,0);return a};this.unmute=function(){a.muted=!1;var b=a._iO.volume!==g;a.isHTML5?a._a&&(a._a.muted=!1):k._setVolume(a.id,b?a._iO.volume:a.options.volume);return a};this.toggleMute=function(){return a.muted?a.unmute():a.mute()};this.onposition=this.onPosition=function(b,c,e){l.push({position:parseInt(b,10),method:c,scope:e!==g?e:a,fired:!1});return a};this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a))return!1;for(c=0;c<l.length;c++)a!==
l[c].position||b&&b!==l[c].method||(l[c].fired&&v--,l.splice(c,1))};this._processOnPosition=function(){var b,c;b=l.length;if(!b||!a.playState||v>=b)return!1;for(--b;0<=b;b--)c=l[b],!c.fired&&a.position>=c.position&&(c.fired=!0,v++,c.method.apply(c.scope,[c.position]));return!0};this._resetOnPosition=function(a){var b,c;b=l.length;if(!b)return!1;for(--b;0<=b;b--)c=l[b],c.fired&&a<=c.position&&(c.fired=!1,v--);return!0};B=function(){var b=a._iO,c=b.from,e=b.to,d,f;f=function(){a.clearOnPosition(e,f);
a.stop()};d=function(){if(null!==e&&!isNaN(e))a.onPosition(e,f)};null===c||isNaN(c)||(b.position=c,b.multiShot=!1,d());return b};r=function(){var b,c=a._iO.onposition;if(c)for(b in c)if(c.hasOwnProperty(b))a.onPosition(parseInt(b,10),c[b])};y=function(){var b,c=a._iO.onposition;if(c)for(b in c)c.hasOwnProperty(b)&&a.clearOnPosition(parseInt(b,10))};p=function(){a.isHTML5&&Va(a)};M=function(){a.isHTML5&&Wa(a)};f=function(b){b||(l=[],v=0);u=!1;a._hasTimer=null;a._a=null;a._html5_canplay=!1;a.bytesLoaded=
null;a.bytesTotal=null;a.duration=a._iO&&a._iO.duration?a._iO.duration:null;a.durationEstimate=null;a.buffered=[];a.eqData=[];a.eqData.left=[];a.eqData.right=[];a.failures=0;a.isBuffering=!1;a.instanceOptions={};a.instanceCount=0;a.loaded=!1;a.metadata={};a.readyState=0;a.muted=!1;a.paused=!1;a.peakData={left:0,right:0};a.waveformData={left:[],right:[]};a.playState=0;a.position=null;a.id3={}};f();this._onTimer=function(b){var c,f=!1,g={};if(a._hasTimer||b)return a._a&&(b||(0<a.playState||1===a.readyState)&&
!a.paused)&&(c=a._get_html5_duration(),c!==e&&(e=c,a.duration=c,f=!0),a.durationEstimate=a.duration,c=1E3*a._a.currentTime||0,c!==d&&(d=c,f=!0),(f||b)&&a._whileplaying(c,g,g,g,g)),f};this._get_html5_duration=function(){var b=a._iO;return(b=a._a&&a._a.duration?1E3*a._a.duration:b&&b.duration?b.duration:null)&&!isNaN(b)&&Infinity!==b?b:null};this._apply_loop=function(a,b){a.loop=1<b?"loop":""};this._setup_html5=function(b){b=x(a._iO,b);var c=z?Oa:a._a,e=decodeURI(b.url),d;z?e===decodeURI(Ea)&&(d=!0):
e===decodeURI(w)&&(d=!0);if(c){if(c._s)if(z)c._s&&c._s.playState&&!d&&c._s.stop();else if(!z&&e===decodeURI(w))return a._apply_loop(c,b.loops),c;d||(w&&f(!1),c.src=b.url,Ea=w=a.url=b.url,c._called_load=!1)}else b.autoLoad||b.autoPlay?(a._a=new Audio(b.url),a._a.load()):a._a=Ja&&10>opera.version()?new Audio(null):new Audio,c=a._a,c._called_load=!1,z&&(Oa=c);a.isHTML5=!0;a._a=c;c._s=a;n();a._apply_loop(c,b.loops);b.autoLoad||b.autoPlay?a.load():(c.autobuffer=!1,c.preload="auto");return c};n=function(){if(a._a._added_events)return!1;
var b;a._a._added_events=!0;for(b in C)C.hasOwnProperty(b)&&a._a&&a._a.addEventListener(b,C[b],!1);return!0};h=function(){var b;a._a._added_events=!1;for(b in C)C.hasOwnProperty(b)&&a._a&&a._a.removeEventListener(b,C[b],!1)};this._onload=function(b){var c=!!b||!a.isHTML5&&8===m&&a.duration;a.loaded=c;a.readyState=c?3:2;a._onbufferchange(0);a._iO.onload&&la(a,function(){a._iO.onload.apply(a,[c])});return!0};this._onbufferchange=function(b){if(0===a.playState||b&&a.isBuffering||!b&&!a.isBuffering)return!1;
a.isBuffering=1===b;a._iO.onbufferchange&&a._iO.onbufferchange.apply(a,[b]);return!0};this._onsuspend=function(){a._iO.onsuspend&&a._iO.onsuspend.apply(a);return!0};this._onfailure=function(b,c,e){a.failures++;if(a._iO.onfailure&&1===a.failures)a._iO.onfailure(b,c,e)};this._onwarning=function(b,c,e){if(a._iO.onwarning)a._iO.onwarning(b,c,e)};this._onfinish=function(){var b=a._iO.onfinish;a._onbufferchange(0);a._resetOnPosition(0);a.instanceCount&&(a.instanceCount--,a.instanceCount||(y(),a.playState=
0,a.paused=!1,a.instanceCount=0,a.instanceOptions={},a._iO={},M(),a.isHTML5&&(a.position=0)),(!a.instanceCount||a._iO.multiShotEvents)&&b&&la(a,function(){b.apply(a)}))};this._whileloading=function(b,c,e,d){var f=a._iO;a.bytesLoaded=b;a.bytesTotal=c;a.duration=Math.floor(e);a.bufferLength=d;a.durationEstimate=a.isHTML5||f.isMovieStar?a.duration:f.duration?a.duration>f.duration?a.duration:f.duration:parseInt(a.bytesTotal/a.bytesLoaded*a.duration,10);a.isHTML5||(a.buffered=[{start:0,end:a.duration}]);
(3!==a.readyState||a.isHTML5)&&f.whileloading&&f.whileloading.apply(a)};this._whileplaying=function(b,c,e,d,f){var n=a._iO;if(isNaN(b)||null===b)return!1;a.position=Math.max(0,b);a._processOnPosition();!a.isHTML5&&8<m&&(n.usePeakData&&c!==g&&c&&(a.peakData={left:c.leftPeak,right:c.rightPeak}),n.useWaveformData&&e!==g&&e&&(a.waveformData={left:e.split(","),right:d.split(",")}),n.useEQData&&f!==g&&f&&f.leftEQ&&(b=f.leftEQ.split(","),a.eqData=b,a.eqData.left=b,f.rightEQ!==g&&f.rightEQ&&(a.eqData.right=
f.rightEQ.split(","))));1===a.playState&&(a.isHTML5||8!==m||a.position||!a.isBuffering||a._onbufferchange(0),n.whileplaying&&n.whileplaying.apply(a));return!0};this._oncaptiondata=function(b){a.captiondata=b;a._iO.oncaptiondata&&a._iO.oncaptiondata.apply(a,[b])};this._onmetadata=function(b,c){var e={},d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=c[d];a.metadata=e;a._iO.onmetadata&&a._iO.onmetadata.call(a,a.metadata)};this._onid3=function(b,c){var e=[],d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=c[d];a.id3=x(a.id3,
e);a._iO.onid3&&a._iO.onid3.apply(a)};this._onconnect=function(b){b=1===b;if(a.connected=b)a.failures=0,q(a.id)&&(a.getAutoPlay()?a.play(g,a.getAutoPlay()):a._iO.autoLoad&&a.load()),a._iO.onconnect&&a._iO.onconnect.apply(a,[b])};this._ondataerror=function(b){0<a.playState&&a._iO.ondataerror&&a._iO.ondataerror.apply(a)}};xa=function(){return p.body||p.getElementsByTagName("div")[0]};aa=function(b){return p.getElementById(b)};x=function(b,e){var d=b||{},a,f;a=e===g?c.defaultOptions:e;for(f in a)a.hasOwnProperty(f)&&
d[f]===g&&(d[f]="object"!==typeof a[f]||null===a[f]?a[f]:x(d[f],a[f]));return d};la=function(b,c){b.isHTML5||8!==m?c():h.setTimeout(c,0)};ba={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};sa=function(b,e){var d,a=!0,f=e!==g,n=c.setupOptions;for(d in b)if(b.hasOwnProperty(d))if("object"!==typeof b[d]||null===b[d]||b[d]instanceof Array||b[d]instanceof RegExp)f&&ba[e]!==g?c[e][d]=b[d]:n[d]!==g?(c.setupOptions[d]=b[d],c[d]=b[d]):ba[d]===g?a=!1:c[d]instanceof Function?c[d].apply(c,
b[d]instanceof Array?b[d]:[b[d]]):c[d]=b[d];else if(ba[d]===g)a=!1;else return sa(b[d],d);return a};t=function(){function b(a){a=hb.call(a);var b=a.length;d?(a[1]="on"+a[1],3<b&&a.pop()):3===b&&a.push(!1);return a}function c(b,e){var g=b.shift(),h=[a[e]];if(d)g[h](b[0],b[1]);else g[h].apply(g,b)}var d=h.attachEvent,a={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}();C={abort:r(function(){}),
canplay:r(function(){var b=this._s,c;if(b._html5_canplay)return!0;b._html5_canplay=!0;b._onbufferchange(0);c=b._iO.position===g||isNaN(b._iO.position)?null:b._iO.position/1E3;if(this.currentTime!==c)try{this.currentTime=c}catch(d){}b._iO._oncanplay&&b._iO._oncanplay()}),canplaythrough:r(function(){var b=this._s;b.loaded||(b._onbufferchange(0),b._whileloading(b.bytesLoaded,b.bytesTotal,b._get_html5_duration()),b._onload(!0))}),durationchange:r(function(){var b=this._s,c;c=b._get_html5_duration();isNaN(c)||
c===b.duration||(b.durationEstimate=b.duration=c)}),ended:r(function(){this._s._onfinish()}),error:r(function(){this._s._onload(!1)}),loadeddata:r(function(){var b=this._s;b._loaded||ma||(b.duration=b._get_html5_duration())}),loadedmetadata:r(function(){}),loadstart:r(function(){this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){this._s._onbufferchange(0)}),progress:r(function(b){var c=this._s,d,a,f=0,f=b.target.buffered;d=b.loaded||0;var g=b.total||1;
c.buffered=[];if(f&&f.length){d=0;for(a=f.length;d<a;d++)c.buffered.push({start:1E3*f.start(d),end:1E3*f.end(d)});f=1E3*(f.end(0)-f.start(0));d=Math.min(1,f/(1E3*b.target.duration))}isNaN(d)||(c._whileloading(d,g,c._get_html5_duration()),d&&g&&d===g&&C.canplaythrough.call(this,b))}),ratechange:r(function(){}),suspend:r(function(b){var c=this._s;C.progress.call(this,b);c._onsuspend()}),stalled:r(function(){}),timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){this._s._onbufferchange(1)})};
ja=function(b){return b&&(b.type||b.url||b.serverURL)?b.serverURL||b.type&&Z(b.type)?!1:b.type?Y({type:b.type}):Y({url:b.url})||c.html5Only||b.url.match(/data\:/i):!1};ka=function(b){var e;b&&(e=ma?"about:blank":c.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",b.src=e,b._called_unload!==g&&(b._called_load=!1));z&&(Ea=null);return e};Y=function(b){if(!c.useHTML5Audio||!c.hasHTML5)return!1;var e=b.url||null;b=b.type||
null;var d=c.audioFormats,a;if(b&&c.html5[b]!==g)return c.html5[b]&&!Z(b);if(!D){D=[];for(a in d)d.hasOwnProperty(a)&&(D.push(a),d[a].related&&(D=D.concat(d[a].related)));D=new RegExp("\\.("+D.join("|")+")(\\?.*)?$","i")}(a=e?e.toLowerCase().match(D):null)&&a.length?a=a[1]:b&&(e=b.indexOf(";"),a=(-1!==e?b.substr(0,e):b).substr(6));a&&c.html5[a]!==g?e=c.html5[a]&&!Z(a):(b="audio/"+a,e=c.html5.canPlayType({type:b}),e=(c.html5[a]=e)&&c.html5[b]&&!Z(b));return e};Za=function(){function b(a){var b,d=b=
!1;if(!e||"function"!==typeof e.canPlayType)return b;if(a instanceof Array){h=0;for(b=a.length;h<b;h++)if(c.html5[a[h]]||e.canPlayType(a[h]).match(c.html5Test))d=!0,c.html5[a[h]]=!0,c.flash[a[h]]=!!a[h].match(db);b=d}else a=e&&"function"===typeof e.canPlayType?e.canPlayType(a):!1,b=!(!a||!a.match(c.html5Test));return b}if(!c.useHTML5Audio||!c.hasHTML5)return v=c.html5.usingFlash=!0,!1;var e=Audio!==g?Ja&&10>opera.version()?new Audio(null):new Audio:null,d,a,f={},n,h;n=c.audioFormats;for(d in n)if(n.hasOwnProperty(d)&&
(a="audio/"+d,f[d]=b(n[d].type),f[a]=f[d],d.match(db)?(c.flash[d]=!0,c.flash[a]=!0):(c.flash[d]=!1,c.flash[a]=!1),n[d]&&n[d].related))for(h=n[d].related.length-1;0<=h;h--)f["audio/"+n[d].related[h]]=f[d],c.html5[n[d].related[h]]=f[d],c.flash[n[d].related[h]]=f[d];f.canPlayType=e?b:null;c.html5=x(c.html5,f);c.html5.usingFlash=Ya();v=c.html5.usingFlash;return!0};J={};T=function(){};fa=function(b){8===m&&1<b.loops&&b.stream&&(b.stream=!1);return b};ga=function(b,c){b&&!b.usePolicyFile&&(b.onid3||b.usePeakData||
b.useWaveformData||b.useEQData)&&(b.usePolicyFile=!0);return b};pa=function(){return!1};Ta=function(b){for(var c in b)b.hasOwnProperty(c)&&"function"===typeof b[c]&&(b[c]=pa)};za=function(b){b===g&&(b=!1);(B||b)&&c.disable(b)};Ua=function(b){var e=null;if(b)if(b.match(/\.swf(\?.*)?$/i)){if(e=b.substr(b.toLowerCase().lastIndexOf(".swf?")+4))return b}else b.lastIndexOf("/")!==b.length-1&&(b+="/");b=(b&&-1!==b.lastIndexOf("/")?b.substr(0,b.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(b+="?ts="+
(new Date).getTime());return b};va=function(){m=parseInt(c.flashVersion,10);8!==m&&9!==m&&(c.flashVersion=m=8);var b=c.debugMode||c.debugFlash?"_debug.swf":".swf";c.useHTML5Audio&&!c.html5Only&&c.audioFormats.mp4.required&&9>m&&(c.flashVersion=m=9);c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":9===m?" (AS3/Flash 9)":" (AS2/Flash 8)");8<m?(c.defaultOptions=x(c.defaultOptions,c.flash9Options),c.features.buffering=!0,c.defaultOptions=x(c.defaultOptions,c.movieStarOptions),c.filePatterns.flash9=
new RegExp("\\.(mp3|"+fb.join("|")+")(\\?.*)?$","i"),c.features.movieStar=!0):c.features.movieStar=!1;c.filePattern=c.filePatterns[8!==m?"flash9":"flash8"];c.movieURL=(8===m?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",b);c.features.peakData=c.features.waveformData=c.features.eqData=8<m};Sa=function(b,c){if(!k)return!1;k._setPolling(b,c)};ya=function(){};q=this.getSoundById;L=function(){var b=[];c.debugMode&&b.push("sm2_debug");c.debugFlash&&b.push("flash_debug");c.useHighPerformance&&
b.push("high_performance");return b.join(" ")};Ba=function(){T("fbHandler");var b=c.getMoviePercent(),e={type:"FLASHBLOCK"};if(c.html5Only)return!1;c.ok()?c.oMC&&(c.oMC.className=[L(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" ")):(v&&(c.oMC.className=L()+" movieContainer "+(null===b?"swf_timedout":"swf_error")),c.didFlashBlock=!0,F({type:"ontimeout",ignoreInit:!0,error:e}),K(e))};ta=function(b,c,d){y[b]===g&&(y[b]=[]);y[b].push({method:c,scope:d||null,fired:!1})};
F=function(b){b||(b={type:c.ok()?"onready":"ontimeout"});if(!l&&b&&!b.ignoreInit||"ontimeout"===b.type&&(c.ok()||B&&!b.ignoreInit))return!1;var e={success:b&&b.ignoreInit?c.ok():!B},d=b&&b.type?y[b.type]||[]:[],a=[],f,e=[e],g=v&&!c.ok();b.error&&(e[0].error=b.error);b=0;for(f=d.length;b<f;b++)!0!==d[b].fired&&a.push(d[b]);if(a.length)for(b=0,f=a.length;b<f;b++)a[b].scope?a[b].method.apply(a[b].scope,e):a[b].method.apply(this,e),g||(a[b].fired=!0);return!0};H=function(){h.setTimeout(function(){c.useFlashBlock&&
Ba();F();"function"===typeof c.onload&&c.onload.apply(h);c.waitForWindowLoad&&t.add(h,"load",H)},1)};Fa=function(){if(A!==g)return A;var b=!1,c=navigator,d=c.plugins,a,f=h.ActiveXObject;if(d&&d.length)(c=c.mimeTypes)&&c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description&&(b=!0);else if(f!==g&&!u.match(/MSAppHost/i)){try{a=new f("ShockwaveFlash.ShockwaveFlash")}catch(n){a=null}b=!!a}return A=b};Ya=function(){var b,
e,d=c.audioFormats;Ha&&u.match(/os (1|2|3_0|3_1)\s/i)?(c.hasHTML5=!1,c.html5Only=!0,c.oMC&&(c.oMC.style.display="none")):!c.useHTML5Audio||c.html5&&c.html5.canPlayType||(c.hasHTML5=!1);if(c.useHTML5Audio&&c.hasHTML5)for(e in X=!0,d)d.hasOwnProperty(e)&&d[e].required&&(c.html5.canPlayType(d[e].type)?c.preferFlash&&(c.flash[e]||c.flash[d[e].type])&&(b=!0):(X=!1,b=!0));c.ignoreFlash&&(b=!1,X=!0);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!b;return!c.html5Only};ia=function(b){var e,d,a=0;if(b instanceof
Array){e=0;for(d=b.length;e<d;e++)if(b[e]instanceof Object){if(c.canPlayMIME(b[e].type)){a=e;break}}else if(c.canPlayURL(b[e])){a=e;break}b[a].url&&(b[a]=b[a].url);b=b[a]}return b};Va=function(b){b._hasTimer||(b._hasTimer=!0,!na&&c.html5PollingInterval&&(null===V&&0===ha&&(V=setInterval(Xa,c.html5PollingInterval)),ha++))};Wa=function(b){b._hasTimer&&(b._hasTimer=!1,!na&&c.html5PollingInterval&&ha--)};Xa=function(){var b;if(null!==V&&!ha)return clearInterval(V),V=null,!1;for(b=c.soundIDs.length-1;0<=
b;b--)c.sounds[c.soundIDs[b]].isHTML5&&c.sounds[c.soundIDs[b]]._hasTimer&&c.sounds[c.soundIDs[b]]._onTimer()};K=function(b){b=b!==g?b:{};"function"===typeof c.onerror&&c.onerror.apply(h,[{type:b.type!==g?b.type:null}]);b.fatal!==g&&b.fatal&&c.disable()};$a=function(){if(!bb||!Fa())return!1;var b=c.audioFormats,e,d;for(d in b)if(b.hasOwnProperty(d)&&("mp3"===d||"mp4"===d)&&(c.html5[d]=!1,b[d]&&b[d].related))for(e=b[d].related.length-1;0<=e;e--)c.html5[b[d].related[e]]=!1};this._setSandboxType=function(b){};
this._externalInterfaceOK=function(b){if(c.swfLoaded)return!1;c.swfLoaded=!0;oa=!1;bb&&$a();setTimeout(qa,E?100:1)};ea=function(b,e){function d(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(O&&P)return!1;if(c.html5Only)return va(),c.oMC=aa(c.movieID),qa(),P=O=!0,!1;var a=e||c.url,f=c.altURL||a,h=xa(),k=L(),m=null,m=p.getElementsByTagName("html")[0],l,r,q,m=m&&m.dir&&m.dir.match(/rtl/i);b=b===g?c.id:b;va();c.url=Ua(La?a:f);e=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;
null!==c.wmode&&(u.match(/msie 8/i)||!E&&!c.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(W.push(J.spcWmode),c.wmode=null);h={name:b,id:b,src:e,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:jb+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:c.wmode,hasPriority:"true"};c.debugFlash&&(h.FlashVars="debug=1");c.wmode||delete h.wmode;if(E)a=p.createElement("div"),r=
['<object id="'+b+'" data="'+e+'" type="'+h.type+'" title="'+h.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',d("movie",e),d("AllowScriptAccess",c.allowScriptAccess),d("quality",h.quality),c.wmode?d("wmode",c.wmode):"",d("bgcolor",c.bgColor),d("hasPriority","true"),c.debugFlash?d("FlashVars",h.FlashVars):"","</object>"].join("");else for(l in a=p.createElement("embed"),h)h.hasOwnProperty(l)&&
a.setAttribute(l,h[l]);ya();k=L();if(h=xa())if(c.oMC=aa(c.movieID)||p.createElement("div"),c.oMC.id)q=c.oMC.className,c.oMC.className=(q?q+" ":"movieContainer")+(k?" "+k:""),c.oMC.appendChild(a),E&&(l=c.oMC.appendChild(p.createElement("div")),l.className="sm2-object-box",l.innerHTML=r),P=!0;else{c.oMC.id=c.movieID;c.oMC.className="movieContainer "+k;l=k=null;c.useFlashBlock||(c.useHighPerformance?k={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(k={position:"absolute",
width:"6px",height:"6px",top:"-9999px",left:"-9999px"},m&&(k.left=Math.abs(parseInt(k.left,10))+"px")));ib&&(c.oMC.style.zIndex=1E4);if(!c.debugFlash)for(q in k)k.hasOwnProperty(q)&&(c.oMC.style[q]=k[q]);try{E||c.oMC.appendChild(a),h.appendChild(c.oMC),E&&(l=c.oMC.appendChild(p.createElement("div")),l.className="sm2-object-box",l.innerHTML=r),P=!0}catch(t){throw Error(T("domError")+" \n"+t.toString());}}return O=!0};da=function(){if(c.html5Only)return ea(),!1;if(k||!c.url)return!1;k=c.getMovie(c.id);
k||(S?(E?c.oMC.innerHTML=Aa:c.oMC.appendChild(S),S=null,O=!0):ea(c.id,c.url),k=c.getMovie(c.id));"function"===typeof c.oninitmovie&&setTimeout(c.oninitmovie,1);return!0};I=function(){setTimeout(Ra,1E3)};ua=function(){h.setTimeout(function(){c.setup({preferFlash:!1}).reboot();c.didFlashBlock=!0;c.beginDelayedInit()},1)};Ra=function(){var b,e=!1;if(!c.url||U)return!1;U=!0;t.remove(h,"load",I);if(A&&oa&&!Ka)return!1;l||(b=c.getMoviePercent(),0<b&&100>b&&(e=!0));setTimeout(function(){b=c.getMoviePercent();
if(e)return U=!1,h.setTimeout(I,1),!1;!l&&cb&&(null===b?c.useFlashBlock||0===c.flashLoadTimeout?c.useFlashBlock&&Ba():!c.useFlashBlock&&X?ua():F({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==c.flashLoadTimeout&&(!c.useFlashBlock&&X?ua():za(!0)))},c.flashLoadTimeout)};ca=function(){if(Ka||!oa)return t.remove(h,"focus",ca),!0;Ka=cb=!0;U=!1;I();t.remove(h,"focus",ca);return!0};Q=function(b){if(l)return!1;if(c.html5Only)return l=!0,H(),!0;var e=!0,d;c.useFlashBlock&&c.flashLoadTimeout&&
!c.getMoviePercent()||(l=!0);d={type:!A&&v?"NO_FLASH":"INIT_TIMEOUT"};if(B||b)c.useFlashBlock&&c.oMC&&(c.oMC.className=L()+" "+(null===c.getMoviePercent()?"swf_timedout":"swf_error")),F({type:"ontimeout",error:d,ignoreInit:!0}),K(d),e=!1;B||(c.waitForWindowLoad&&!ra?t.add(h,"load",H):H());return e};Qa=function(){var b,e=c.setupOptions;for(b in e)e.hasOwnProperty(b)&&(c[b]===g?c[b]=e[b]:c[b]!==e[b]&&(c.setupOptions[b]=c[b]))};qa=function(){if(l)return!1;if(c.html5Only)return l||(t.remove(h,"load",
c.beginDelayedInit),c.enabled=!0,Q()),!0;da();try{k._externalInterfaceTest(!1),Sa(!0,c.flashPollingInterval||(c.useHighPerformance?10:50)),c.debugMode||k._disableDebug(),c.enabled=!0,c.html5Only||t.add(h,"unload",pa)}catch(b){return K({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),za(!0),Q(),!1}Q();t.remove(h,"load",c.beginDelayedInit);return!0};G=function(){if(R)return!1;R=!0;Qa();ya();!A&&c.hasHTML5&&c.setup({useHTML5Audio:!0,preferFlash:!1});Za();!A&&v&&(W.push(J.needFlash),c.setup({flashLoadTimeout:1}));
p.removeEventListener&&p.removeEventListener("DOMContentLoaded",G,!1);da();return!0};Da=function(){"complete"===p.readyState&&(G(),p.detachEvent("onreadystatechange",Da));return!0};wa=function(){ra=!0;G();t.remove(h,"load",wa)};Fa();t.add(h,"focus",ca);t.add(h,"load",I);t.add(h,"load",wa);p.addEventListener?p.addEventListener("DOMContentLoaded",G,!1):p.attachEvent?p.attachEvent("onreadystatechange",Da):K({type:"NO_DOM2_EVENTS",fatal:!0})}if(!h||!h.document)throw Error("SoundManager requires a browser with window and document objects.");
var N=null;h.SM2_DEFER!==g&&SM2_DEFER||(N=new w);"object"===typeof module&&module&&"object"===typeof module.exports?(module.exports.SoundManager=w,module.exports.soundManager=N):"function"===typeof define&&define.amd&&define(function(){return{constructor:w,getInstance:function(g){!h.soundManager&&g instanceof Function&&(g=g(w),g instanceof w&&(h.soundManager=g));return h.soundManager}}});h.SoundManager=w;h.soundManager=N})(window);(function(a){a.zvPlayer={version:"1.0.6",author:"Andrey Yablonsky"};jQuery.fn.zvPlayer=function(w){function u(){return c.find(".player-time-total").width()}function L(b){c=a(b);y=!0;m=!q.autoPlay;l=a.cookie("ZvcurrentVolume")?a.cookie("ZvcurrentVolume"):100;F();M();var d=window.soundManager;d.onready(N);var f=!1;d.ontimeout(function(a){d.preferFlash=!0;!1==f&&(d.reboot(),f=!0)})}function N(){q.playlist&&(n=a("#plpop-songs"));G();C();O(n.find("#pl-song-list").children("div"))}function G(){a(".song-download").each(function(b,
d){var f=a(d).attr("data-url");"#"==f&&(f=a(d).attr("data-href"));a(d).unbind("click");a(d).click(function(){return a.zvPlayer.download(a(d),f)})})}function M(){a(".radio-play").each(function(b,d){a(d).unbind("click");a(d).click(function(){var b=a(this).attr("data-href");H(a(this).attr("data-title"),b);return!1})})}function C(){q.volume&&(a.zvPlayer.volume(l/100),c.find(".player-volume-slider").unbind("click"),c.find(".player-volume-slider").click(function(b){b=(b.pageX-a(this).offset().left)/s;a.zvPlayer.volume(b,
1);0!=l?c.find(".player-volume-button").removeClass("off"):c.find(".player-volume-button").addClass("off")}),c.find(".player-volume-slider").unbind("drag"),c.find(".player-volume-slider").bind("drag",function(b){1==b.which&&(b=(b.pageX-a(this).offset().left)/s,a.zvPlayer.volume(b),0!=l?c.find(".player-volume-button").removeClass("off"):c.find(".player-volume-button").addClass("off"))}),c.find(".player-volume-button").unbind("click"),c.find(".player-volume-button").click(function(){0!=l?(a.zvPlayer.volume(0,
1),a(this).addClass("off")):(a.zvPlayer.volume(a.cookie("ZvcurrentVolume")/100,1),a(this).removeClass("off"))}));c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").unbind("click");c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").click(function(b){b=(b.pageX-a(this).parent().offset().left)/u();0<e[g].duration?h.setPosition(1E3*b*e[g].duration):
h.setPosition(b*h.duration);x(b)});c.find(".player-nav-prev").unbind("click");c.find(".player-nav-prev").click(function(){a.zvPlayer.previous();return!1});c.find(".player-nav-play").unbind("click");c.find(".player-nav-play").click(function(){a.zvPlayer.toggle();return!1});c.find(".player-nav-next").unbind("click");c.find(".player-nav-next").click(function(){a.zvPlayer.next();return!1});c.find(".player-menu-plus").unbind("click");c.find(".player-menu-plus").click(function(){showTopNotify("<strong>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0432 \u043f\u043b\u0435\u0435\u0440</strong>");
return!1});c.find(".player-menu-download").unbind("click");c.find(".player-menu-download").click(function(){showTopNotify("<strong>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0432 \u043f\u043b\u0435\u0435\u0440</strong>");return!1});y=!0;c.unbind("song-play");c.bind("song-play",function(a,d){D&&r(d,D)})}function P(){n.find("#pl-song-list").children("div").shuffle();e=[];n.find("#pl-song-list").children("div").each(function(b,f){var c=
a(f).find(".song-play"),e=c.attr("data-url");"#"==e&&(e=c.attr("data-href"));p({duration:c.attr("data-time"),stream_url:e,title:c.attr("data-title"),id:c.attr("data-sid")})});if(t)for(var b=0;b<e.length;++b)e[b].id==t&&(g=b)}function F(){function b(){if(!y)return!1;var b=a(this);if("true"==b.attr("pl"))e=[],n.find("#pl-song-list").children("div").each(function(b,d){var c=a(d).find(".song-play"),f=c.attr("data-url");"#"==f&&(f=c.attr("data-href"));p({duration:c.attr("data-time"),stream_url:f,title:c.attr("data-title"),
id:c.attr("data-sid")})});else{e=[];var d=b.attr("data-url");"#"==d&&(d=b.attr("data-href"));p({duration:b.attr("data-time"),stream_url:d,title:b.attr("data-title"),id:b.attr("data-sid")});g=-1;a.zvPlayer.addTrack(d,b.attr("data-title"),b.attr("data-sid"),!0,b.attr("data-time"))}return!1}var d=a("body");"1.7"<=c.jquery?(d.off("click",".song-play"),d.on("click",".song-play",b)):(d.undelegate(".song-play","click"),d.delegate(".song-play","click",b));jQuery(document).bind("delete-song",function(){var b=
a("#playlist-content-"+playlist_id).find(".playlist-count");animateCount(a(b),-1)});d=a("#resorting-songs");d.unbind("click");d.click(function(){P()});-1<g&&(a("[data-sid]").removeClass("stop"),a("div[data-play]").removeClass("played"),a("[data-sid="+e[g].id+"].song-play").addClass("stop"),a("div[data-play="+e[g].id+"].").addClass("played"));d=a(".song-plus");d.unbind("click");d.click(function(){if("1"==isGuest)return window.location="/login",!1;var b=a(this);if(!y)return!1;var d=a(this),c=d.attr("data-url");
"#"==c&&(c=d.attr("data-href"));var e="";!1===a.zvPlayer.addToPlaylist(c,d.attr("data-title"),d.attr("data-sid"),d.attr("data-time"))?(b.addClass("in_playlist").attr("title","\u0412 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u0435"),e=a('<div class="song_mess2"><div class="bg"><div class="cnt">\u041f\u0435\u0441\u043d\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430<br/>\u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442</div></div></div>')):e=a('<div class="song_mess2"><div class="bg"><div class="cnt2">\u042d\u0442\u0430 \u043f\u0435\u0441\u043d\u044f \u0443\u0436\u0435<br/>\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442</div></div></div>');
e.fadeIn(500);e.appendTo("body");d=b.offset().left-e.outerWidth()/2+b.outerWidth()/2;b=b.offset().top-e.outerHeight()-13;e.css({top:b,left:d,display:"block"});setTimeout(function(){e.fadeOut(400,function(){a(this).remove()})},900);return!1})}function O(b){c.unbind("song-play");c.bind("song-play",function(){++z;if(z<b.length){var d=b.eq(z).find(".song-play"),f=d.attr("data-url");"#"==f&&(f=d.attr("data-href"));a.zvPlayer.addTrack(f,d.attr("data-title"),d.attr("data-sid"),!1,d.attr("data-time"))}else c.unbind("song-play"),
C()})}function p(a){for(var d=e.length,c=0;c<e.length;++c)if(a.title==e[c].title)return d=c;return"undefined"!=a.id?(e.push(a),d):-1}function r(b,d){var f=a(".player-menu-reload");f.unbind("click");f.click(function(){a(this).hasClass("active")?a(this).removeClass("active"):a(this).addClass("active")});if(0>=e.length)return a.zvPlayer.clear(),!1;if(b==g)return!1;g=0>b?e.length-1:b==e.length?0:b;m=!d;c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").css("cursor",
"pointer");c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").unbind("click");c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").click(function(b){b=(b.pageX-a(this).parent().offset().left)/u();0<e[g].duration?h.setPosition(1E3*b*e[g].duration):h.setPosition(b*h.duration);x(b)});c.find(".player-time-loaded, .player-time-current").width(0);c.find(".player-time-start, .player-time-end").text("");
c.find(".player-song-name").text(e[g].title);c.find(".player-menu-plus").attr("data-title",e[g].title);c.find(".player-menu-plus").attr("data-sid",e[g].id);c.find(".player-menu-plus").attr("data-url",e[g].stream_url);c.find(".player-menu-plus").attr("data-time",e[g].duration);c.find(".player-menu-plus").removeClass("in_playlist");c.find(".player-nav-prev").unbind("click");c.find(".player-nav-prev").click(function(){a.zvPlayer.previous();return!1});c.find(".player-nav-next").unbind("click");c.find(".player-nav-next").click(function(){a.zvPlayer.next();
return!1});c.find(".player-menu-plus").unbind("click");c.find(".player-menu-plus").click(function(){if("1"==isGuest)return window.location="/login",!1;var b=a.zvPlayer.addToPlaylist(e[g].stream_url,e[g].title,e[g].id,e[g].duration),d=a(this),c="";!1===b?d.hasClass("in_playlist")||(d.addClass("in_playlist").attr("title","\u0412 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u0435"),c=a('<div class="song_mess2"><div class="bg"><div class="cnt">\u041f\u0435\u0441\u043d\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430<br/>\u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442</div></div></div>')):
!0!==b||d.hasClass("in_playlist")||(d.addClass("in_playlist").attr("title","\u0412 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u0435"),c=a('<div class="song_mess2"><div class="bg"><div class="cnt">\u042d\u0442\u0430 \u043f\u0435\u0441\u043d\u044f \u0443\u0436\u0435<br/>\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442</div></div></div>'));if(""!=c){c.fadeIn(500);c.appendTo("body");var b=d.offset().left-c.outerWidth()/2+d.outerWidth()/
2,f="center bottom";d.hasClass("left_song_mess")&&(b=d.offset().left-c.outerWidth()/1.1+d.outerWidth()/2,f="95% bottom");d=d.offset().top-c.outerHeight()-13;c.css({top:d,left:b,display:"block",backgroundPosition:f});setTimeout(function(){c.fadeOut(400,function(){a(this).remove()})},900)}return!1});a("[data-sid]").removeClass("stop");a("div[data-play]").removeClass("played");c.find(".player-menu-download").unbind("click");c.find(".player-menu-download").click(function(){a.zvPlayer.download(e[g].id,
e[g].stream_url);return!1});h&&h.destruct();t=e[g].id;a(".player-nav-play").addClass("stop");if(f=a("#SongView"))f.find(".left span").attr("class","stop"),f.find(".cnt").text("\u041f\u0430\u0443\u0437\u0430");a("[data-sid="+e[g].id+"]").addClass("stop");a("div[data-play="+e[g].id+"]").addClass("played");a("#face").fadeOut(1E3);a(".player-time-total").fadeIn(1E3);a(".player-time-loaded,.player-time-current").fadeIn(1E3);a(".player-time-total").removeClass("green-player");h=window.soundManager.createSound({id:"zv_sound"+
e[g].id,url:e[g].stream_url+"?play=on",autoPlay:!0,autoLoad:q.autoLoad,volume:l,multiShot:!1,whileloading:Q,whileplaying:R,onfinish:I,onload:J});a.zvPlayer.lastSound=h;a.zvPlayer.play()}function H(b,d){var f=a(".player-menu-reload");f.unbind("click");f.click(function(){showTopNotify("<strong>\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0430\u0434\u0438\u043e</strong>")});a.zvPlayer.clear();c.find(".player-time-loaded, .player-time-current").width(0);
c.find(".player-time-start").text("");c.find(".player-time-end").text("");c.find(".player-song-name").text(b);c.find(".player-menu-plus").attr("data-title",b);c.find(".player-menu-plus").attr("data-sid",0);c.find(".player-menu-plus").attr("data-url","#plus");c.find(".player-menu-plus").attr("data-time",0);c.find(".player-menu-plus").removeClass("in_playlist");c.find(".player-menu-plus").unbind("click");c.find(".player-menu-plus").click(function(){showTopNotify("<strong>\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0430\u0434\u0438\u043e</strong>");
return!1});c.find(".player-menu-download").unbind("click");c.find(".player-menu-download").click(function(){showTopNotify("<strong>\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0430\u0434\u0438\u043e</strong>");return!1});h&&h.destruct();t=-1;c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").unbind("click");c.find(".player-time-total, .player-time-loaded, .player-time-current, .player-song-name, .player-time-start, .player-time-end").css("cursor",
"default");c.find(".player-nav-prev").unbind("click");c.find(".player-nav-prev").click(function(){showTopNotify("<strong>\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0430\u0434\u0438\u043e</strong>")});c.find(".player-nav-play").unbind("click");c.find(".player-nav-play").click(function(){a.zvPlayer.toggleRadio();return!1});c.find(".player-nav-next").unbind("click");c.find(".player-nav-next").click(function(){showTopNotify("<strong>\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0430\u0434\u0438\u043e</strong>")});
m=!1;a(".player-nav-play").addClass("stop");a("[data-sid]").removeClass("stop");a("div[data-play]").removeClass("played");if(f=a("#SongView"))f.find(".left span").attr("class","play"),f.find(".cnt").text("\u0421\u043b\u0443\u0448\u0430\u0442\u044c");a("#face").fadeOut(1E3);a(".player-time-total").fadeIn(1E3);a(".player-time-loaded,.player-time-current").fadeOut(1E3);a(".player-time-total").addClass("green-player");setTimeout(function(){a.post("/ajax/inc/radio",{url:d})},5E3);h=window.soundManager.createSound({id:"zv_radio"+
Math.random(),url:d,autoPlay:!0,autoLoad:q.autoLoad,volume:l,whileloading:S,whileplaying:T,onfinish:I,onload:J});a.zvPlayer.lastSound=h}function Q(){if(1>this.bytesLoaded/this.bytesTotal){var a=this.bytesLoaded/this.bytesTotal*u();c.find(".player-time-loaded").css("width",a+"px")}else c.find(".player-time-loaded").css("width","0")}function S(){}function T(){var a,d=this.position/1E3,d=Math.abs(d);a=[];var f=0;a[f]=Math.floor(d/3600%24);0<a[f]&&f++;a[f]=Math.floor(d/60%60);f++;a[f]=Math.floor(d%60);
for(var d=!0,e=-1,f=0;f<a.length;f++)10>a[f]&&(1==f||2==f)&&(a[f]="0"+a[f]),"00"==a[f]&&f<a.length-2&&!d?e=f:d=!0;a.splice(0,e+1);a=a.join(":");A!=a&&(c.find(".player-time-start").text(a),c.find(".player-time-end").text(""));A=a}function R(){0<e[g].duration?K(this.position,1E3*e[g].duration):K(this.position,this.duration)}function I(){var b="",d=b="";if(q.playNextWhenFinished)if(!1==a(".player-menu-reload").hasClass("active")&&1<e.length)a.zvPlayer.next();else if(!0==a(".player-menu-reload").hasClass("active"))a.zvPlayer.play();
else{if(a.zvPlayer.pause(),c.find(".player-time-start").text(""),c.find(".player-time-end").text(""),h.setPosition(0),x(0),b=a("div[data-play="+e[g].id+"]").attr("data-next"))if(b=a("div[data-play="+b+"] .song-play"))e=[],d=b.attr("data-url"),"#"==d&&(d=b.attr("data-href")),p({duration:b.attr("data-time"),stream_url:d,title:b.attr("data-title"),id:b.attr("data-sid")}),g=-1,a.zvPlayer.addTrack(d,b.attr("data-title"),b.attr("data-sid"),!0,b.attr("data-time"))}else if(a.zvPlayer.pause(),c.find(".player-time-start").text(""),
c.find(".player-time-end").text(""),h.setPosition(0),x(0),b=a("div[data-play="+e[g].id+"]").attr("data-next"))if(b=a("div[data-play="+b+"] .song-play"))e=[],d=b.attr("data-url"),"#"==d&&(d=b.attr("data-href")),p({duration:b.attr("data-time"),stream_url:d,title:b.attr("data-title"),id:b.attr("data-sid")}),g=-1,a.zvPlayer.addTrack(d,b.attr("data-title"),b.attr("data-sid"),!0,b.attr("data-time"))}function J(a){return 1}function x(a){a*=u();c.find(".player-time-current").css("width",a)}function K(a,d){var f=
E(a/1E3);A!=f&&(c.find(".player-time-start").text(f),c.find(".player-time-end").text("-"+E(d/1E3-a/1E3)),x(a/d));A=f}function E(a){a=Math.abs(a);var d=[];d[0]=Math.floor(a/60%60);d[1]=Math.floor(a%60);a=!0;for(var c=-1,e=0;e<d.length;e++)10>d[e]&&1==e&&(d[e]="0"+d[e]),"00"==d[e]&&e<d.length-2&&!a?c=e:a=!0;d.splice(0,c+1);return d.join(":")}var q=a.extend({},a.fn.zvPlayer.defaults,w),c,n,h,A,z=-1,s=100,g=-1,l=100,m=!0,y,t,D=!0,e=[];a.zvPlayer.download=function(b,d){var c=a(b);!isNaN(parseFloat(b))&&
isFinite(b)&&(c=a(".player-menu-download"));var e=0,e=!isNaN(parseFloat(b))&&isFinite(b)?b:c.attr("data-sid");a.getJSON("/ajax/inc/"+e,{},function(b){var d=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();/ip(ad|hone|od)/.test(d)||-1===d.indexOf("android")&&(/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(d)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(d.substr(0,
4)));$iframe=a("<iframe>").attr("style","text-indent:-9999px;border:none;width:0px;height:0px;visibility:hidden;").attr("src",b.url).appendTo("body");saveSongIdCookie(e)});a('[data-sid="'+e+'"].download').addClass("visited").attr("data-original-title","");return!1};a.zvPlayer.radionInit=function(){a(".radio-play").each(function(b,d){a(d).unbind("click");a(d).click(function(){var b=a(this).attr("data-href");H(a(this).attr("data-title"),b);return!1})})};a.zvPlayer.renderElement=function(){G();F()};
a.zvPlayer.play=function(){if(0<e.length){a("[data-sid]").removeClass("stop");a("div[data-play]").removeClass("played");-1==g&&0<e.length&&(g=0);a("[data-sid="+e[g].id+"]").addClass("stop");a("div[data-play="+e[g].id+"]").addClass("played");a(".player-nav-play").addClass("stop");var b=a("#SongView");b&&(b.find(".left span").attr("class","stop"),b.find(".cnt").text("\u041f\u0430\u0443\u0437\u0430"));h.playState?h.resume():h.play({type:"audio/mp3"});m=!1}return!0};a.zvPlayer.pause=function(){if(0<e.length){a("[data-sid]").removeClass("stop");
a("div[data-play]").removeClass("played");a(".player-nav-play").removeClass("stop");var b=a("#SongView");b&&(b.find(".left span").attr("class","play"),b.find(".cnt").text("\u0421\u043b\u0443\u0448\u0430\u0442\u044c"));m=!0;h.pause()}return!0};a.zvPlayer.toggleRadio=function(){m?(h.play(),a(".player-nav-play").addClass("stop"),m=!1):(h.pause(),a(".player-nav-play").removeClass("stop"),m=!0)};a.zvPlayer.toggle=function(){m?a.zvPlayer.play():a.zvPlayer.pause()};a.zvPlayer.previous=function(){if(1<e.length)r(g-
1,!0);else{var b=a("div[data-play="+e[g].id+"]").attr("data-prev");if(b&&(b=a("div[data-play="+b+"] .song-play"))){e=[];var d=b.attr("data-url");"#"==d&&(d=b.attr("data-href"));p({duration:b.attr("data-time"),stream_url:d,title:b.attr("data-title"),id:b.attr("data-sid")});g=-1;a.zvPlayer.addTrack(d,b.attr("data-title"),b.attr("data-sid"),!0,b.attr("data-time"))}}};a.zvPlayer.next=function(){if(1<e.length)r(g+1,!0);else{var b=a("div[data-play="+e[g].id+"]").attr("data-next");if(b&&(b=a("div[data-play="+
b+"] .song-play"))){e=[];var d=b.attr("data-url");"#"==d&&(d=b.attr("data-href"));p({duration:b.attr("data-time"),stream_url:d,title:b.attr("data-title"),id:b.attr("data-sid")});g=-1;a.zvPlayer.addTrack(d,b.attr("data-title"),b.attr("data-sid"),!0,b.attr("data-time"))}}};a.zvPlayer.volume=function(b,d){d||(d=0);0>b&&(b=0);1<b&&(b=1);var e=100*b;0!=b&&a.cookie("ZvcurrentVolume",e);h&&h.setVolume(e);1==d?(c.find("#player-volume-current").animate({width:b*s}),c.find("#player-volume-handle").animate({left:b*
s})):(c.find("#player-volume-current").css("width",b*s),c.find("#player-volume-handle").css("left",b*s));c.find("#player-volume-handle").attr("data-original-title",parseInt(b*s)+"%");l=e};a.zvPlayer.addToPlaylist=function(b,d,c,B){if(!q.playlist)return!1;var v=!1;a.ajaxSetup({async:!1});a.getJSON("/playlist/add/song/"+c,function(b){if("login"==b.status)window.location="/login",v=!0;else if("max_song_count"==b.status)showTopNotify("<strong>\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0439 100</strong>"),
v="max";else if("1"==b.status){var d=b.id,c=a("#playlist-content-"+d).find(".playlist-count");0===c.length&&(c=a("#playlist-content-nill").clone(),c.attr("id","playlist-content-"+b.id),c.find("#name-playlist-null").attr("id","name-playlist-"+b.id).attr("place",b.name).val(b.name),c.find(".playlist-del").click(function(){deletePlaylist(b.id,this)}),c.find(".playlist-ok").click(function(){saveNamePlaylist(b.id)}),c.find(".playlist-play").unbind("click"),c.find(".playlist-play").click(function(b){a("#plpop-playlists").hide();
a("#plpop-songs").show();a("#plpop .playlist-play").removeClass("stop");a(this).addClass("stop");var c=a("#pl-song-list");c.html("loading");c.load("/playlist/"+d,function(){a.zvPlayer.rebuild()});b.preventDefault()}),c.find(".playlist-rename input").focus(function(){a(this).parents(".playlist-wrap:first").addClass("renamed")}),c.find(".playlist-wrap").hover(function(){a(this).hasClass("renamed")||(a(".playlist-wrap").removeClass("renamed"),a(".playlist-rename input").parents(".playlist-wrap:first").removeClass("renamed"))},
function(){}),a("#plki").append(c),c.show(),c=a("#playlist-content-"+d).find(".playlist-count"));animateCount(a(c),1)}else v=!0});a.ajaxSetup({async:!0});if(v)return v;var k=a("#nullSongPatern").clone();k.removeAttr("id");k.addClass("song_"+c);var l=explode("\u2014",d);k.find(".song-artist a").attr("href","/song/"+c).find("span").text(l[0].trim());k.find(".song-name a").attr("href","/song/"+c).find("span").text(l[1].trim());k.find(".song-time").text(E(B));n.find("#pl-song-list").append(k);k.show();
reloadScroll();p({duration:B,stream_url:b,title:d,id:c});k.find(".song-play").attr("data-sid",c);k.find(".song-play").attr("data-title",d);k.find(".song-play").attr("data-url",b);k.find(".song-play").attr("data-time",B);k.off("click",".song-play");k.find(".song-play").unbind();k.find(".song-play").click(function(){if(t!=a(this).attr("data-sid")){var b=n.find("#pl-song-list").find("div.songs-list-item").index(a(this).parent().parent().parent());r(b,!0)}else h.toggle();return!1});k.find(".song-delete").unbind("click");
k.find(".song-delete").click(function(){var b=a(this),d=b.parent().parent().parent().parent().parent().parent().children("div").index(b.parent().parent().parent().parent().parent()),h=!1;a.ajaxSetup({async:!1});a.getJSON("/playlist/delete/song/"+c,function(a){"login"==a.status&&(window.location="/login",h=!0)});a.ajaxSetup({async:!0});if(h)return!1;a("body").trigger("delete-song");e.splice(d,1);b.parent().parent().parent().parent().parent().remove();reloadScroll();d==g?(g--,d=d==e.length?0:d,r(d,
m?!1:!0)):d<g&&g--});return v};a.zvPlayer.addTrack=function(b,c,e,g,h){void 0===c&&(c="");void 0===g&&(g=!1);D=g;b=p({duration:h,stream_url:b,title:c,id:e});g&&(t!=e?(a("[data-sid]").removeClass("stop"),a("div[data-play]").removeClass("played"),r(b,!0),a("[data-sid="+e+"].song-play").addClass("stop"),a("div[data-play="+e+"].").addClass("played")):a.zvPlayer.toggle())};a.zvPlayer.playFirst=function(){0<e.length&&(a("[data-sid]").removeClass("stop"),a("div[data-play]").removeClass("played"),r(0,!0),
a("[data-sid="+e[0].id+"].song-play").addClass("stop"),a("div[data-play="+e[0].id+"].").addClass("played"))};a.zvPlayer.rebuild=function(){a.zvPlayer.clear();q.playlist&&(n=a("#plpop-songs"));h||C();n.find("#pl-song-list").children("div").each(function(b,c){var f=a(c).find(".song-play");p({duration:a(f).attr("data-time"),stream_url:a(f).attr("data-url"),title:a(f).attr("data-title"),id:a(f).attr("data-sid")});var l=a(f).attr("data-sid");a(c).find(".song-play").off("click");a(c).find(".song-play").unbind("click");
a(c).find(".song-play").click(function(){if(t!=a(this).attr("data-sid")){var b=a(this),b=b.parent().parent().parent().parent().children("div").index(b.parent().parent().parent());e=[];g=-1;n.find("#pl-song-list").children("div").each(function(b,c){var d=a(c).find(".song-play"),e=d.attr("data-url");"#"==e&&(e=d.attr("data-href"));p({duration:a(d).attr("data-time"),stream_url:e,title:a(d).attr("data-title"),id:a(d).attr("data-sid")})});r(b,!0)}else h.toggle();return!1});a(c).find(".song-delete").unbind("click");
a(c).find(".song-delete").click(function(){var b=a(this),c=b.parent().parent().parent().parent().parent().parent().children("div").index(b.parent().parent().parent().parent().parent()),d=!1;a.ajaxSetup({async:!1});a.getJSON("/playlist/delete/song/"+l,function(a){"login"==a.status&&(window.location="/login",d=!0)});a.ajaxSetup({async:!0});if(d)return!1;a("body").trigger("delete-song");e.splice(c,1);b.tooltip("hide");b.parent().parent().parent().parent().parent().remove();reloadScroll();c==g?(g--,c=
c==e.length?0:c,r(c,m?!1:!0)):c<g&&g--})});reloadScroll();a.zvPlayer.playFirst()};a.zvPlayer.clear=function(){c.find(".player-time-loaded, .player-time-current").width(0);c.find(".player-time-start, .player-time-end").text("");m=!0;g=-1;z=0;q.playlist&&n.find("#plpop-songs .songs-list").empty();e=[];h&&h.destruct()};return this.each(function(){L(this)})};a.fn.zvPlayer.defaults={opened:!0,volume:!0,playlist:!0,autoLoad:!0,autoPlay:!0,playNextWhenFinished:!0,keyboard:!0}})(jQuery);
function explode(a,w){var u={0:""};if(2!=arguments.length||"undefined"==typeof arguments[0]||"undefined"==typeof arguments[1])return null;if(""===a||!1===a||null===a)return!1;if("function"==typeof a||"object"==typeof a||"function"==typeof w||"object"==typeof w)return u;!0===a&&(a="1");return w.toString().split(a.toString())};(function(d){function e(a){var b=a||window.event,c=[].slice.call(arguments,1),f=0,e=0,g=0;a=d.event.fix(b);a.type="mousewheel";b.wheelDelta&&(f=b.wheelDelta/120);b.detail&&(f=-b.detail/3);g=f;void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(g=0,e=-1*f);void 0!==b.wheelDeltaY&&(g=b.wheelDeltaY/120);void 0!==b.wheelDeltaX&&(e=-1*b.wheelDeltaX/120);c.unshift(a,f,e,g);return(d.event.dispatch||d.event.handle).apply(this,c)}var c=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks)for(var h=c.length;h;)d.event.fixHooks[c[--h]]=
d.event.mouseHooks;d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],e,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function(a){function g(){this===b.elem&&(b.pos=[-260,-260],b.elem=!1,c=3)}var b={pos:[-260,-260]},c=3,d=document,m=d.documentElement,h=d.body,k,l;a.event.special.mwheelIntent={setup:function(){var e=a(this).bind("mousewheel",a.event.special.mwheelIntent.handler);this!==d&&this!==m&&this!==h&&e.bind("mouseleave",g);return!0},teardown:function(){a(this).unbind("mousewheel",a.event.special.mwheelIntent.handler).unbind("mouseleave",g);return!0},handler:function(e,d){var f=[e.clientX,e.clientY];if(this===
b.elem||Math.abs(b.pos[0]-f[0])>c||Math.abs(b.pos[1]-f[1])>c)return b.elem=this,b.pos=f,c=250,clearTimeout(l),l=setTimeout(function(){c=10},200),clearTimeout(k),k=setTimeout(function(){c=3},1500),e=a.extend({},e,{type:"mwheelIntent"}),a.event.handle.apply(this,arguments)}};a.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}});a(function(){h=d.body;a(d).bind("mwheelIntent.mwheelIntentDefault",
a.noop)})})(jQuery);$(document).ready(function(){$("#plpop .playlist-play").each(function(a,c){$(c).attr("rel")&&($(c).unbind("click"),$(c).click(function(a){$("#plpop-playlists").hide();$("#plpop-songs").show();$("#plpop .playlist-play").removeClass("stop");$(c).addClass("stop");if($(c).attr("rel")!=playlist_id){var b=$(c).attr("rel");$("#pl-song-list").hide();$("#songs-playlists-preloader").fadeIn();$("#pl-song-list").load("/playlist/"+b,function(){playlist_id=b;$.zvPlayer.rebuild();$("#songs-playlists-preloader").hide();
$("#pl-song-list").fadeIn()})}else $.zvPlayer.rebuild();reloadScroll();return!1}))});$("#plpop .prev-ico").unbind("click");$("#plpop .prev-ico").click(function(a){$("#plpop-playlists").show();$("#plpop-songs").hide();reloadScroll();a.preventDefault()});var a=$.cookie("playListIsOpen")?$.cookie("playListIsOpen"):"1";$(".player-menu-playlists").unbind("click");$(".player-menu-playlists").click(function(){"0"==isGuest?($(this).toggleClass("active"),"hidden"!=$("#plpop").css("visibility")?($("#plpop").css("visibility",
"hidden"),$.cookie("playListIsOpen","0")):($("#plpop").css("visibility","visible"),$.cookie("playListIsOpen","1"))):window.location="/login"});"0"==isGuest&&"1"==a&&$(".player-menu-playlists").click();$(".player-menu-reload").unbind("click");$(".player-menu-reload").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),loping=!1):(loping=!0,$(this).addClass("active"))})});
function reloadScroll(){var a=$(".plpop-scroll-pane");a.jScrollPane({showArrows:!0});a.data("jsp").reinitialise();$(".song .mb-tooltip").tooltip({limit_width:600,placement:"bottom"})}
function addNewPlaylist(){$.getJSON("/playlist/create",function(a){if("max_pl_count"==a.status)showTopNotify("<b>\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u043e\u0432 20</b>"),out=!0;else if("login"==a.status)window.location="/login",out=!0;else if(""!=a.name){var b=$("#playlist-content-nill").clone();b.attr("id","playlist-content-"+a.id);b.find("#name-playlist-null").attr("id","name-playlist-"+
a.id).attr("place",a.name).val(a.name);b.find(".playlist-del").unbind("click");b.find(".playlist-del").click(function(){deletePlaylist(a.id,this)});b.find(".playlist-ok").unbind("click");b.find(".playlist-ok").click(function(){saveNamePlaylist(a.id)});b.find(".playlist-play").unbind("click");b.find(".playlist-play").click(function(b){$("#plpop-playlists").hide();$("#plpop-songs").show();$("#plpop .playlist-play").removeClass("stop");$(this).addClass("stop");if($(this).attr("rel")!=playlist_id){var d=
a.id;$("#pl-song-list").html("loading");$("#pl-song-list").load("/playlist/"+d,function(){playlist_id=d;$.zvPlayer.rebuild()})}else $.zvPlayer.rebuild();reloadScroll();b.preventDefault()});b.find(".playlist-rename input").unbind("focus");b.find(".playlist-rename input").focus(function(){$(this).parents(".playlist-wrap:first").addClass("renamed")});b.find(".playlist-wrap").unbind("hover");b.find(".playlist-wrap").hover(function(){$(this).hasClass("renamed")||($(".playlist-wrap").removeClass("renamed"),
$(".playlist-rename input").parents(".playlist-wrap:first").removeClass("renamed"))},function(){});$("#plki").append(b);b.show();reloadScroll()}})}function deletePlaylist(a,b){$.getJSON("/playlist/delete/"+a,function(c){"login"==c.status?(window.location="/login",out=!0):0==c&&($(b).tooltip("hide"),$("#playlist-content-"+a).remove(),reloadScroll())})}
function saveNamePlaylist(a){$("#name-playlist-"+a).val()!=$("#name-playlist-"+a).attr("place")&&$.getJSON("/playlist/update/"+a,{name:$("#name-playlist-"+a).val()},function(b){"login"==b.status&&(window.location="/login",out=!0);$("#name-playlist-"+a).attr("place",$("#name-playlist-"+a).val())});$("#name-playlist-"+a).parents(".playlist-wrap:first").removeClass("renamed")}
jQuery.event.special.drag={add:function(a){var b=a.handler;a.handler=function(a){if(jQuery(this).data("mousePressed"))return b.apply(this,arguments)}},setup:function(a,b){var c=jQuery(this);c.data("mousePressed",!1);c.bind("mousedown",function(){jQuery(this).data("mousePressed",!0)});jQuery(document).bind("mouseup",function(){c.data("mousePressed",!1)});c.bind("mousemove",jQuery.event.special.drag.handler)},teardown:function(a){a=jQuery(this);jQuery.removeData(this,"mousePressed");a.unbind("mousedown");
a.unbind("mouseup")},handler:function(a){a.type="drag";jQuery.event.handle.apply(this,arguments)}};(function(a){a.fn.shuffle=function(){var b=this.get(),c=a.map(b,function(){var c=Math.floor(Math.random()*b.length),e=a(b[c]).clone(!0)[0];b.splice(c,1);return e});this.each(function(b){a(this).replaceWith(a(c[b]))});return a(c)}})(jQuery);window.JSON||(window.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case "string":return quote(i);case "number":return isFinite(i)?
String(i):"null";case "boolean":case "null":return String(i);case "object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,
d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=
function(a){return this.valueOf()});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c==
"number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify");}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&
(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}(),function(a,b){var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");
c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!="undefined"&&c.init()}(window),function(a,b){var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if(typeof g.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");g.initHtml4=function(){if(typeof g.initHtml4.initialized!=
"undefined")return!1;g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var b=g.getHashByIndex(),c;return c=a===b,c},g.saveHash=function(a){return g.isLastHash(a)?!1:(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return typeof a=="undefined"?b=g.savedHashes[g.savedHashes.length-1]:a<0?b=g.savedHashes[g.savedHashes.length+a]:b=g.savedHashes[a],b},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var d=g.getHashByState(a),e;
return e={discardedState:a,backState:c,forwardState:b},g.discardedStates[d]=e,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var b=g.getHashByState(a),c;return c=g.discardedStates[b]||!1,c},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=
function(){g.checkerFunction=null;var b="",d,e,h,i;return g.isInternetExplorer()?(d="historyjs-iframe",e=c.createElement("iframe"),e.setAttribute("id",d),e.style.display="none",c.body.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.close(),h="",i=!1,g.checkerFunction=function(){if(i)return!1;i=!0;var c=g.getHash()||"",d=g.unescapeHash(e.contentWindow.document.location.hash)||"";return c!==b?(b=c,d!==c&&(h=d=c,e.contentWindow.document.open(),e.contentWindow.document.close(),
e.contentWindow.document.location.hash=g.escapeHash(c)),g.Adapter.trigger(a,"hashchange")):d!==h&&(h=d,g.setHash(d,!1)),i=!1,!0}):g.checkerFunction=function(){var c=g.getHash();return c!==b&&(b=c,g.Adapter.trigger(a,"hashchange")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var d=b&&b.newURL||c.location.href,e=g.getHashByUrl(d),f=null,h=null,i=null,j;return g.isLastHash(e)?(g.busy(!1),
!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,"anchorchange"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||c.location.href,!1),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),j=g.discardedState(f),j?(g.getHashByIndex(-2)===g.getHashByState(j.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,f.url,!1),!0))))},g.Adapter.bind(a,"hashchange",g.onHashChange),g.pushState=function(b,d,e,f){if(g.getHashByUrl(e))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(f!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:f}),!1;g.busy(!0);var h=g.createStateObject(b,d,e),i=g.getHashByState(h),j=g.getState(!1),k=g.getHashByState(j),l=g.getHash();return g.storeState(h),g.expectedStateId=h.id,g.recycleState(h),g.setTitle(h),i===k?(g.busy(!1),!1):i!==l&&i!==g.getShortUrl(c.location.href)?(g.setHash(i,!1),!1):(g.saveState(h),g.Adapter.trigger(a,"statechange"),g.busy(!1),!0)},g.replaceState=function(a,b,c,d){if(g.getHashByUrl(c))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(d!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:d}),!1;g.busy(!0);var e=g.createStateObject(a,b,c),f=g.getState(!1),h=g.getStateByIndex(-2);return g.discardState(f,e,h),g.pushState(e.data,e.title,e.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,"hashchange")})},typeof g.init!="undefined"&&g.init()}(window),function(a,b){var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||
!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!="undefined")throw new Error("History.js Core has already been loaded...");m.init=function(){return typeof m.Adapter=="undefined"?!1:(typeof m.initCore!="undefined"&&m.initCore(),typeof m.initHtml4!="undefined"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!="undefined")return!1;
m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1E3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;
if(typeof b!="undefined"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!="undefined"&&typeof c.log!="undefined"&&typeof c.log.apply!="undefined",b=d.getElementById("log"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!="undefined"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];
if(typeof i=="object"&&typeof k!="undefined")try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!="undefined"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");while((b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e")&&
c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!="undefined"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||
m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<
7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=":"+d.location.port;return a+="/",a},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return a.length===1&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=
m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b=="undefined"?!0:b,/[a-z]+\:\/\//.test(a)||
(d==="/"?c=m.getRootUrl()+a.replace(/^\/+/,""):d==="#"?c=m.getPageUrl().replace(/#.*/,"")+a:d==="?"?c=m.getPageUrl().replace(/[\?#].*/,"")+a:b?c=m.getBaseUrl()+a.replace(/^(\.\/)+/,""):c=m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),b},m.store={},m.idToState=m.idToState||
{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a=="undefined"&&(a=!0),typeof b=="undefined"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=
m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!="undefined")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!="undefined")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof m.idToState[b]=="undefined"&&typeof m.store.idToState[b]=="undefined")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!="object")a={};if(typeof a.normalized!="undefined")return a;if(!a.data||
typeof a.data!="object")a.data={};b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&
m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),
c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||
b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?
!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a=="undefined"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=
a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,
"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!="undefined"?
m.busy.flag=a:typeof m.busy.flag=="undefined"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||
0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a=="function"&&(a={callback:a}),typeof b!="undefined"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=
!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),
n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||
o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?
(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):
(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=
f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=
a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,
"unload",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})}},m.init()}(window);eval(function(p,a,c,k,e,r){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return"\\w+"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}("(I($){8($.1R.1K)J;$.1R.1K=I(y,z){8(1i.V==0){1c(M,'5O 4C 6x 1o \"'+1i.3Y+'\".');J 1i}8(1i.V>1){J 1i.1P(I(){$(1i).1K(y,z)})}F A=1i,$19=1i[0];8(A.1q('4t')){F B=A.1A('6a');A.X('68',M)}Q{F B=O}A.44=I(o,b,c){o=4p($19,o);8(o.1c){H.1c=o.1c;1c(H,'6w \"1c\" 7v 7d 73 6R 3J 5B 6B 4v-1k.')}F e=['G','1m','T','17','1a','1b'];1o(F a=0,l=e.V;a<l;a++){o[e[a]]=4p($19,o[e[a]])}8(K o.1m=='14'){8(o.1m<=50)o.1m={'G':o.1m};Q o.1m={'1j':o.1m}}Q{8(K o.1m=='1l')o.1m={'1I':o.1m}}8(K o.G=='14')o.G={'P':o.G};Q 8(o.G=='1d')o.G={'P':o.G,'S':o.G,'1u':o.G};8(K o.G!='1k')o.G={};8(b)2y=$.26(M,{},$.1R.1K.4x,o);7=$.26(M,{},$.1R.1K.4x,o);8(K 7.G.12!='1k')7.G.12={};8(7.G.2K==0&&K c=='14'){7.G.2K=c}C.4A=(7.2L);C.2r=(7.2r=='4E'||7.2r=='1s')?'1a':'17';F f=[['S','3c','27','1u','5D','2Z','1s','32','1E',0,1,2,3],['1u','5D','2Z','S','3c','27','32','1s','3V',3,2,1,0]];F g=f[0].V,5G=(7.2r=='2U'||7.2r=='1s')?0:1;7.d={};1o(F d=0;d<g;d++){7.d[f[0][d]]=f[5G][d]}F h=A.11();1x(K 7.G.P){W'1k':7.G.12.2M=7.G.P.2M;7.G.12.2i=7.G.P.2i;7.G.P=O;18;W'1l':8(7.G.P=='1d'){7.G.12.1d=M}Q{7.G.12.2p=7.G.P}7.G.P=O;18;W'I':7.G.12.2p=7.G.P;7.G.P=O;18}8(K 7.G.1v=='1y'){7.G.1v=(h.1v(':2P').V>0)?':P':'*'}8(7[7.d['S']]=='T'){7[7.d['S']]=3C(h,7,'27')}8(4n(7[7.d['S']])&&!7.2L){7[7.d['S']]=3Z(3g($1D.3e(),7,'3c'),7[7.d['S']]);C.4A=M}8(7[7.d['1u']]=='T'){7[7.d['1u']]=3C(h,7,'2Z')}8(!7.G[7.d['S']]){8(7.2L){1c(M,'6k a '+7.d['S']+' 1o 5B G!');7.G[7.d['S']]=3C(h,7,'27')}Q{7.G[7.d['S']]=(5p(h,7,'27'))?'1d':h[7.d['27']](M)}}8(!7.G[7.d['1u']]){7.G[7.d['1u']]=(5p(h,7,'2Z'))?'1d':h[7.d['2Z']](M)}8(!7[7.d['1u']]){7[7.d['1u']]=7.G[7.d['1u']]}8(!7.G.P&&!7.2L){8(7.G[7.d['S']]=='1d'){7.G.12.1d=M}8(!7.G.12.1d){8(K 7[7.d['S']]=='14'){7.G.P=1O.35(7[7.d['S']]/7.G[7.d['S']])}Q{F i=3g($1D.3e(),7,'3c');7.G.P=1O.35(i/7.G[7.d['S']]);7[7.d['S']]=7.G.P*7.G[7.d['S']];8(!7.G.12.2p)7.1B=O}8(7.G.P=='6Z'||7.G.P<1){1c(M,'2b a 4q 14 3T P G: 6k 3J \"1d\".');7.G.12.1d=M}}}8(!7[7.d['S']]){7[7.d['S']]='1d';8(!7.2L&&7.G.1v=='*'&&!7.G.12.1d&&7.G[7.d['S']]!='1d'){7[7.d['S']]=7.G.P*7.G[7.d['S']];7.1B=O}}8(7.G.12.1d){7.3S=(7[7.d['S']]=='1d')?3g($1D.3e(),7,'3c'):7[7.d['S']];8(7.1B===O){7[7.d['S']]='1d'}7.G.P=2J(h,7,0)}Q 8(7.G.1v!='*'){7.G.12.4c=7.G.P;7.G.P=3R(h,7,0)}8(K 7.1B=='1y'){7.1B=(7[7.d['S']]=='1d')?O:'5r'}7.G.P=2N(7.G.P,7,7.G.12.2p,$19);7.G.12.2q=7.G.P;7.1t=O;8(7.2L){8(!7.G.12.2M)7.G.12.2M=7.G.P;8(!7.G.12.2i)7.G.12.2i=7.G.P;7.1B=O;7.1h=[0,0,0,0];F j=$1D.1W(':P');8(j)$1D.3f();F k=3Z(3g($1D.3e(),7,'3c'),7[7.d['S']]);8(K 7[7.d['S']]=='14'&&k<7[7.d['S']]){k=7[7.d['S']]}8(j)$1D.3j();F m=5k(1O.2O(k/7.G[7.d['S']]),7.G.12);8(m>h.V){m=h.V}F n=1O.35(k/m),5g=7[7.d['1u']],69=4n(5g);h.1P(I(){F a=$(1i),5e=n-66(a,7,'72');a[7.d['S']](5e);8(69){a[7.d['1u']](3Z(5e,5g))}});7.G.P=m;7.G[7.d['S']]=n;7[7.d['S']]=m*n}Q{7.1h=5T(7.1h);8(7.1B=='32')7.1B='1s';8(7.1B=='5a')7.1B='2U';1x(7.1B){W'5r':W'1s':W'2U':8(7[7.d['S']]!='1d'){F p=4l(3p(h,7),7);7.1t=M;7.1h[7.d[1]]=p[1];7.1h[7.d[3]]=p[0]}18;2z:7.1B=O;7.1t=(7.1h[0]==0&&7.1h[1]==0&&7.1h[2]==0&&7.1h[3]==0)?O:M;18}}8(K 7.2t=='1r'&&7.2t)7.2t='7D'+A.6L('6Q');8(K 7.G.3r!='14')7.G.3r=7.G.P;8(K 7.1m.1j!='14')7.1m.1j=5N;8(K 7.1m.G=='1y')7.1m.G=(7.G.12.1d||7.G.1v!='*')?'P':7.G.P;7.T=3w($19,7.T,'T');7.17=3w($19,7.17);7.1a=3w($19,7.1a);7.1b=3w($19,7.1b,'1b');7.T=$.26(M,{},7.1m,7.T);7.17=$.26(M,{},7.1m,7.17);7.1a=$.26(M,{},7.1m,7.1a);7.1b=$.26(M,{},7.1m,7.1b);8(K 7.1b.48!='1r')7.1b.48=O;8(K 7.1b.34!='I'&&7.1b.34!==O)7.1b.34=$.1R.1K.5M;8(K 7.T.1G!='1r')7.T.1G=M;8(K 7.T.56!='14')7.T.56=0;8(K 7.T.3W=='1y')7.T.3W=M;8(K 7.T.55!='1r')7.T.55=M;8(K 7.T.3q!='14')7.T.3q=(7.T.1j<10)?7l:7.T.1j*5;8(7.2j){7.2j=4Z(7.2j)}8(H.1c){1c(H,'3n S: '+7.S);1c(H,'3n 1u: '+7.1u);8(7.3S)1c(H,'71 '+7.d['S']+': '+7.3S);1c(H,'5A 76: '+7.G.S);1c(H,'5A 7i: '+7.G.1u);1c(H,'4i 3T G P: '+7.G.P);8(7.T.1G)1c(H,'4i 3T G 4Y 6A: '+7.T.G);8(7.17.Y)1c(H,'4i 3T G 4Y 4X: '+7.17.G);8(7.1a.Y)1c(H,'4i 3T G 4Y 5x: '+7.1a.G)}};A.5t=I(){A.1q('4t',M);F a={'4U':A.16('4U'),'4T':A.16('4T'),'3K':A.16('3K'),'32':A.16('32'),'2U':A.16('2U'),'5a':A.16('5a'),'1s':A.16('1s'),'S':A.16('S'),'1u':A.16('1u'),'4R':A.16('4R'),'1E':A.16('1E'),'3V':A.16('3V'),'4P':A.16('4P')};1x(a.3K){W'4N':F b='4N';18;W'5X':F b='5X';18;2z:F b='6S'}$1D.16(a).16({'6T':'2P','3K':b});A.1q('5V',a).16({'4U':'1s','4T':'4g','3K':'4N','32':0,'1s':0,'4R':0,'1E':0,'3V':0,'4P':0});8(7.1t){A.11().1P(I(){F m=2o($(1i).16(7.d['1E']));8(2s(m))m=0;$(1i).1q('1V',m)})}};A.5S=I(){A.4L();A.13(L('4J',H),I(e,a){e.1e();8(!C.22){8(7.T.Y){7.T.Y.31(2l('43',H))}}C.22=M;8(7.T.1G){7.T.1G=O;A.X(L('2X',H),a)}J M});A.13(L('4I',H),I(e){e.1e();8(C.1U){3P(R)}J M});A.13(L('2X',H),I(e,a,b){e.1e();1F=3d(1F);8(a&&C.1U){R.22=M;F c=2C()-R.2Q;R.1j-=c;8(R.1p)R.1p.1j-=c;8(R.1Q)R.1Q.1j-=c;3P(R,O)}8(!C.1Y&&!C.1U){8(b)1F.3v+=2C()-1F.2Q}8(!C.1Y){8(7.T.Y){7.T.Y.31(2l('6s',H))}}C.1Y=M;8(7.T.6d){F d=7.T.3q-1F.3v,3G=3F-1O.2O(d*3F/7.T.3q);7.T.6d.1z($19,3G,d)}J M});A.13(L('1G',H),I(e,b,c,d){e.1e();1F=3d(1F);F v=[b,c,d],t=['1l','14','1r'],a=2Y(v,t);F b=a[0],c=a[1],d=a[2];8(b!='17'&&b!='1a')b=C.2r;8(K c!='14')c=0;8(K d!='1r')d=O;8(d){C.22=O;7.T.1G=M}8(!7.T.1G){e.23();J 1c(H,'3n 43: 2b 2R.')}8(C.1Y){8(7.T.Y){7.T.Y.2v(2l('43',H));7.T.Y.2v(2l('6s',H))}}C.1Y=O;1F.2Q=2C();F f=7.T.3q+c;3x=f-1F.3v;3G=3F-1O.2O(3x*3F/f);1F.T=7a(I(){8(7.T.5Q){7.T.5Q.1z($19,3G,3x)}8(C.1U){A.X(L('1G',H),b)}Q{A.X(L(b,H),7.T)}},3x);8(7.T.5I){7.T.5I.1z($19,3G,3x)}J M});A.13(L('2H',H),I(e){e.1e();8(R.22){R.22=O;C.1Y=O;C.1U=M;R.2Q=2C();2f(R)}Q{A.X(L('1G',H))}J M});A.13(L('17',H)+' '+L('1a',H),I(e,b,f,g){e.1e();8(C.22||A.1W(':2P')){e.23();J 1c(H,'3n 43 6I 2P: 2b 2R.')}8(7.G.3r>=N.U){e.23();J 1c(H,'2b 5F G ('+N.U+', '+7.G.3r+' 5E): 2b 2R.')}F v=[b,f,g],t=['1k','14/1l','I'],a=2Y(v,t);F b=a[0],f=a[1],g=a[2];F h=e.4w.3U(H.3o.3B.V);8(K b!='1k'||b==2c)b=7[h];8(K g=='I')b.24=g;8(K f!='14'){8(7.G.1v!='*'){f='P'}Q{F i=[f,b.G,7[h].G];1o(F a=0,l=i.V;a<l;a++){8(K i[a]=='14'||i[a]=='5y'||i[a]=='P'){f=i[a];18}}}1x(f){W'5y':e.23();J A.1A(h+'7j',[b,g]);18;W'P':8(!7.G.12.1d&&7.G.1v=='*'){f=7.G.P}18}}8(R.22){A.X(L('2H',H));A.X(L('3k',H),[h,[b,f,g]]);e.23();J 1c(H,'3n 7o 2R.')}8(b.1j>0){8(C.1U){8(b.3k)A.X(L('3k',H),[h,[b,f,g]]);e.23();J 1c(H,'3n 7y 2R.')}}8(b.4u&&!b.4u.1z($19)){e.23();J 1c(H,'6y \"4u\" 6z O.')}1F.3v=0;A.X('6r'+h,[b,f]);8(7.2j){F s=7.2j,c=[b,f];1o(F j=0,l=s.V;j<l;j++){F d=h;8(!s[j][1])c[0]=s[j][0].1A('6c',h);8(!s[j][2])d=(d=='17')?'1a':'17';c[1]=f+s[j][3];s[j][0].X('6r'+d,c)}}J M});A.13(L('6K',H,O),I(e,f,g){e.1e();F h=A.11();8(!7.1N){8(N.Z==0){8(7.3h){A.X(L('1a',H),N.U-1)}J e.23()}}8(7.1t)1M(h,7);8(K g!='14'){8(7.G.12.1d){g=47(h,7,N.U-1)}Q 8(7.G.1v!='*'){F i=(K f.G=='14')?f.G:4V(A,7);g=6t(h,7,N.U-1,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}8(!7.1N){8(N.U-g<N.Z){g=N.U-N.Z}}7.G.12.2q=7.G.P;8(7.G.12.1d){F j=2J(h,7,N.U-g);8(7.G.P+g<=j&&g<N.U){g++;j=2J(h,7,N.U-g)}7.G.P=2N(j,7,7.G.12.2p,$19)}Q 8(7.G.1v!='*'){F j=3R(h,7,N.U-g);7.G.P=2N(j,7,7.G.12.2p,$19)}8(7.1t)1M(h,7,M);8(g==0){e.23();J 1c(H,'0 G 3J 1m: 2b 2R.')}1c(H,'6m '+g+' G 4X.');N.Z+=g;1Z(N.Z>=N.U){N.Z-=N.U}8(!7.1N){8(N.Z==0&&f.4d)f.4d.1z($19);8(!7.3h)2T(7,N.Z,H)}A.11().1g(N.U-g,N.U).7g(A);8(N.U<7.G.P+g){A.11().1g(0,(7.G.P+g)-N.U).4f(M).3O(A)}F h=A.11(),2n=6l(h,7,g),1T=6b(h,7),28=h.1L(g-1),2d=2n.2I(),2x=1T.2I();8(7.1t)1M(h,7);8(7.1B){F p=4l(1T,7),k=p[0],2k=p[1]}Q{F k=0,2k=0}F l=(k<0)?7.1h[7.d[3]]:0;8(f.1H=='5z'&&7.G.P<g){F m=h.1g(7.G.12.2q,g),4m=7.G[7.d['S']];m.1P(I(){F a=$(1i);a.1q('4j',a.1W(':2P')).3f()});7.G[7.d['S']]='1d'}Q{F m=O}F n=36(h.1g(0,g),7,'S'),29=4a(2E(1T,7,M),7,!7.1t);8(m)7.G[7.d['S']]=4m;8(7.1t){1M(h,7,M);8(2k>=0){1M(2d,7,7.1h[7.d[1]])}1M(28,7,7.1h[7.d[3]])}8(7.1B){7.1h[7.d[1]]=2k;7.1h[7.d[3]]=k}F o={},1w=f.1j;8(f.1H=='4g')1w=0;Q 8(1w=='T')1w=7.1m.1j/7.1m.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=20(1w,f.1I);8(7[7.d['S']]=='1d'||7[7.d['1u']]=='1d'){R.1f.1n([$1D,29])}8(7.1t){F q=7.1h[7.d[3]];8(2x.4s(28).V){F r={};r[7.d['1E']]=28.1q('1V');8(k<0)28.16(r);Q R.1f.1n([28,r])}8(2x.4s(2d).V){F s={};s[7.d['1E']]=2d.1q('1V');R.1f.1n([2d,s])}8(2k>=0){F t={};t[7.d['1E']]=2x.1q('1V')+7.1h[7.d[1]];R.1f.1n([2x,t])}}Q{F q=0}o[7.d['1s']]=q;F u=[2n,1T,29,1w];8(f.2a)f.2a.3E($19,u);1X.2a=3z(1X.2a,$19,u);1x(f.1H){W'2u':W'2e':W'2G':W'2h':R.1p=20(R.1j,R.1I);R.1Q=20(R.1j,R.1I);R.1j=0;18}1x(f.1H){W'2e':W'2G':W'2h':F v=A.4f().3O($1D);18}1x(f.1H){W'2h':v.11().1g(0,g).1J();W'2e':W'2G':v.11().1g(7.G.P).1J();18}1x(f.1H){W'2u':R.1p.1f.1n([A,{'2g':0}]);18;W'2e':v.16({'2g':0});R.1p.1f.1n([A,{'S':'+=0'},I(){v.1J()}]);R.1Q.1f.1n([v,{'2g':1}]);18;W'2G':R=4y(R,A,v,7,M);18;W'2h':R=4z(R,A,v,7,M,g);18}F w=I(){F b=7.G.P+g-N.U;8(b>0){A.11().1g(N.U).1J();2n=A.11().1g(N.U-(g-b)).3X().6e(A.11().1g(0,b).3X())}8(m){m.1P(I(){F a=$(1i);8(!a.1q('4j'))a.3j()})}8(7.1t){F c=A.11().1L(7.G.P+g-1);c.16(7.d['1E'],c.1q('1V'))}R.1f=[];8(R.1p)R.1p=20(R.4B,R.1I);F d=I(){1x(f.1H){W'2u':W'2e':A.16('1v','');18}R.1Q=20(0,2c);C.1U=O;F a=[2n,1T,29];8(f.24)f.24.3E($19,a);1X.24=3z(1X.24,$19,a);8(1S.V){A.X(L(1S[0][0],H),1S[0][1]);1S.6p()}8(!C.1Y)A.X(L('1G',H))};1x(f.1H){W'2u':R.1p.1f.1n([A,{'2g':1},d]);2f(R.1p);18;W'2h':R.1p.1f.1n([A,{'S':'+=0'},d]);2f(R.1p);18;2z:d();18}};R.1f.1n([A,o,w]);C.1U=M;A.16(7.d['1s'],-(n-l));1F=3d(1F);2f(R);4D(7.2t,A.1A(L('3H',H)));A.X(L('2B',H),[O,29]);J M});A.13(L('6V',H,O),I(e,f,g){e.1e();F h=A.11();8(!7.1N){8(N.Z==7.G.P){8(7.3h){A.X(L('17',H),N.U-1)}J e.23()}}8(7.1t)1M(h,7);8(K g!='14'){8(7.G.1v!='*'){F i=(K f.G=='14')?f.G:4V(A,7);g=5w(h,7,0,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}F j=(N.Z==0)?N.U:N.Z;8(!7.1N){8(7.G.12.1d){F k=2J(h,7,g),i=47(h,7,j-1)}Q{F k=7.G.P,i=7.G.P}8(g+k>j){g=j-i}}7.G.12.2q=7.G.P;8(7.G.12.1d){F k=4F(h,7,g,j);1Z(7.G.P-g>=k&&g<N.U){g++;k=4F(h,7,g,j)}7.G.P=2N(k,7,7.G.12.2p,$19)}Q 8(7.G.1v!='*'){F k=3R(h,7,g);7.G.P=2N(k,7,7.G.12.2p,$19)}8(7.1t)1M(h,7,M);8(g==0){e.23();J 1c(H,'0 G 3J 1m: 2b 2R.')}1c(H,'6m '+g+' G 5x.');N.Z-=g;1Z(N.Z<0){N.Z+=N.U}8(!7.1N){8(N.Z==7.G.P&&f.4d)f.4d.1z($19);8(!7.3h)2T(7,N.Z,H)}8(N.U<7.G.P+g){A.11().1g(0,(7.G.P+g)-N.U).4f(M).3O(A)}F h=A.11(),2n=4G(h,7),1T=4H(h,7,g),28=h.1L(g-1),2d=2n.2I(),2x=1T.2I();8(7.1t)1M(h,7);8(7.1B){F p=4l(1T,7),l=p[0],2k=p[1]}Q{F l=0,2k=0}8(f.1H=='5z'&&7.G.12.2q<g){F m=h.1g(7.G.12.2q,g),4m=7.G[7.d['S']];m.1P(I(){F a=$(1i);a.1q('4j',a.1W(':2P')).3f()});7.G[7.d['S']]='1d'}Q{F m=O}F n=36(h.1g(0,g),7,'S'),29=4a(2E(1T,7,M),7,!7.1t);8(m)7.G[7.d['S']]=4m;8(7.1B){8(7.1h[7.d[1]]<0){7.1h[7.d[1]]=0}}8(7.1t){1M(h,7,M);1M(2d,7,7.1h[7.d[1]])}8(7.1B){7.1h[7.d[1]]=2k;7.1h[7.d[3]]=l}F o={},1w=f.1j;8(f.1H=='4g')1w=0;Q 8(1w=='T')1w=7.1m.1j/7.1m.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=20(1w,f.1I);8(7[7.d['S']]=='1d'||7[7.d['1u']]=='1d'){R.1f.1n([$1D,29])}8(7.1t){F q=2x.1q('1V');8(2k>=0){q+=7.1h[7.d[1]]}2x.16(7.d['1E'],q);8(28.4s(2d).V){F r={};r[7.d['1E']]=2d.1q('1V');R.1f.1n([2d,r])}F s=28.1q('1V');8(l>=0){s+=7.1h[7.d[3]]}F t={};t[7.d['1E']]=s;R.1f.1n([28,t])}o[7.d['1s']]=-n;8(l<0){o[7.d['1s']]+=l}F u=[2n,1T,29,1w];8(f.2a)f.2a.3E($19,u);1X.2a=3z(1X.2a,$19,u);1x(f.1H){W'2u':W'2e':W'2G':W'2h':R.1p=20(R.1j,R.1I);R.1Q=20(R.1j,R.1I);R.1j=0;18}1x(f.1H){W'2e':W'2G':W'2h':F v=A.4f().3O($1D);18}1x(f.1H){W'2h':v.11().1g(7.G.12.2q).1J();18;W'2e':W'2G':v.11().1g(0,g).1J();v.11().1g(7.G.P).1J();18}1x(f.1H){W'2u':R.1p.1f.1n([A,{'2g':0}]);18;W'2e':v.16({'2g':0});R.1p.1f.1n([A,{'S':'+=0'},I(){v.1J()}]);R.1Q.1f.1n([v,{'2g':1}]);18;W'2G':R=4y(R,A,v,7,O);18;W'2h':R=4z(R,A,v,7,O,g);18}F w=I(){F b=7.G.P+g-N.U,5C=(7.1t)?7.1h[7.d[3]]:0;A.16(7.d['1s'],5C);8(b>0){A.11().1g(N.U).1J()}F c=A.11().1g(0,g).3O(A).2I();8(b>0){1T=3p(h,7)}8(m){m.1P(I(){F a=$(1i);8(!a.1q('4j'))a.3j()})}8(7.1t){8(N.U<7.G.P+g){F d=A.11().1L(7.G.P-1);d.16(7.d['1E'],d.1q('1V')+7.1h[7.d[3]])}c.16(7.d['1E'],c.1q('1V'))}R.1f=[];8(R.1p)R.1p=20(R.4B,R.1I);F e=I(){1x(f.1H){W'2u':W'2e':A.16('1v','');18}R.1Q=20(0,2c);C.1U=O;F a=[2n,1T,29];8(f.24)f.24.3E($19,a);1X.24=3z(1X.24,$19,a);8(1S.V){A.X(L(1S[0][0],H),1S[0][1]);1S.6p()}8(!C.1Y)A.X(L('1G',H))};1x(f.1H){W'2u':R.1p.1f.1n([A,{'2g':1},e]);2f(R.1p);18;W'2h':R.1p.1f.1n([A,{'S':'+=0'},e]);2f(R.1p);18;2z:e();18}};R.1f.1n([A,o,w]);C.1U=M;1F=3d(1F);2f(R);4D(7.2t,A.1A(L('3H',H)));A.X(L('2B',H),[O,29]);J M});A.13(L('2W',H),I(e,b,c,d,f,g,h){e.1e();F v=[b,c,d,f,g,h],t=['1l/14/1k','14','1r','1k','1l','I'],a=2Y(v,t);F f=a[3],g=a[4],h=a[5];b=3u(a[0],a[1],a[2],N,A);8(b==0)J;8(K f!='1k')f=O;8(C.1U){8(K f!='1k'||f.1j>0)J O}8(g!='17'&&g!='1a'){8(7.1N){8(b<=N.U/2)g='1a';Q g='17'}Q{8(N.Z==0||N.Z>b)g='1a';Q g='17'}}8(g=='17')b=N.U-b;A.X(L(g,H),[f,b,h]);J M});A.13(L('7h',H),I(e,a,b){e.1e();F c=A.1A(L('3Q',H));J A.1A(L('4K',H),[c-1,a,'17',b])});A.13(L('7k',H),I(e,a,b){e.1e();F c=A.1A(L('3Q',H));J A.1A(L('4K',H),[c+1,a,'1a',b])});A.13(L('4K',H),I(e,a,b,c,d){e.1e();8(K a!='14')a=A.1A(L('3Q',H));F f=7.1b.G||7.G.P,2i=1O.35(N.U/f)-1;8(a<0)a=2i;8(a>2i)a=0;J A.1A(L('2W',H),[a*f,0,M,b,c,d])});A.13(L('5J',H),I(e,s){e.1e();8(s)s=3u(s,0,M,N,A);Q s=0;s+=N.Z;8(s!=0){1Z(s>N.U)s-=N.U;A.7m(A.11().1g(s,N.U))}J M});A.13(L('2j',H),I(e,s){e.1e();8(s)s=4Z(s);Q 8(7.2j)s=7.2j;Q J 1c(H,'5O 7n 3J 2j.');F n=A.1A(L('3H',H)),x=M;1o(F j=0,l=s.V;j<l;j++){8(!s[j][0].1A(L('2W',H),[n,s[j][3],M])){x=O}}J x});A.13(L('3k',H),I(e,a,b){e.1e();8(K a=='I'){a.1z($19,1S)}Q 8(2V(a)){1S=a}Q 8(K a!='1y'){1S.1n([a,b])}J 1S});A.13(L('7w',H),I(e,b,c,d,f){e.1e();F v=[b,c,d,f],t=['1l/1k','1l/14/1k','1r','14'],a=2Y(v,t);F b=a[0],c=a[1],d=a[2],f=a[3];8(K b=='1k'&&K b.3b=='1y')b=$(b);8(K b=='1l')b=$(b);8(K b!='1k'||K b.3b=='1y'||b.V==0)J 1c(H,'2b a 4q 1k.');8(K c=='1y')c='4e';8(7.1t){b.1P(I(){F m=2o($(1i).16(7.d['1E']));8(2s(m))m=0;$(1i).1q('1V',m)})}F g=c,3N='3N';8(c=='4e'){8(d){8(N.Z==0){c=N.U-1;3N='61'}Q{c=N.Z;N.Z+=b.V}8(c<0)c=0}Q{c=N.U-1;3N='61'}}Q{c=3u(c,f,d,N,A)}8(g!='4e'&&!d){8(c<N.Z)N.Z+=b.V}8(N.Z>=N.U)N.Z-=N.U;F h=A.11().1L(c);8(h.V){h[3N](b)}Q{A.65(b)}N.U=A.11().V;F i=A.1A('4M');3M(7,N.U,H);2T(7,N.Z,H);A.X(L('4O',H));A.X(L('2B',H),[M,i]);J M});A.13(L('6D',H),I(e,b,c,d){e.1e();F v=[b,c,d],t=['1l/14/1k','1r','14'],a=2Y(v,t);F b=a[0],c=a[1],d=a[2];8(K b=='1y'||b=='4e'){A.11().2I().1J()}Q{b=3u(b,d,c,N,A);F f=A.11().1L(b);8(f.V){8(b<N.Z)N.Z-=f.V;f.1J()}}N.U=A.11().V;F g=A.1A('4M');3M(7,N.U,H);2T(7,N.Z,H);A.X(L('2B',H),[M,g]);J M});A.13(L('2a',H)+' '+L('24',H),I(e,a){e.1e();F b=e.4w.3U(H.3o.3B.V);8(2V(a))1X[b]=a;8(K a=='I')1X[b].1n(a);J 1X[b]});A.13(L('6a',H,O),I(e,a){e.1e();J A.1A(L('3H',H),a)});A.13(L('3H',H),I(e,a){e.1e();8(N.Z==0)F b=0;Q F b=N.U-N.Z;8(K a=='I')a.1z($19,b);J b});A.13(L('3Q',H),I(e,a){e.1e();F b=7.1b.G||7.G.P;F c=1O.2O(N.U/b-1);8(N.Z==0)F d=0;Q 8(N.Z<N.U%b)F d=0;Q 8(N.Z==b&&!7.1N)F d=c;Q F d=1O.6E((N.U-N.Z)/b);8(d<0)d=0;8(d>c)d=c;8(K a=='I')a.1z($19,d);J d});A.13(L('6G',H),I(e,a){e.1e();$i=3p(A.11(),7);8(K a=='I')a.1z($19,$i);J $i});A.13(L('1g',H),I(e,f,l,b){e.1e();F v=[f,l,b],t=['14','14','I'],a=2Y(v,t);f=(K a[0]=='14')?a[0]:0,l=(K a[1]=='14')?a[1]:N.U,b=a[2];f+=N.Z;l+=N.Z;1Z(f>N.U){f-=N.U}1Z(l>N.U){l-=N.U}1Z(f<0){f+=N.U}1Z(l<0){l+=N.U}F c=A.11();8(l>f){F d=c.1g(f,l)}Q{F d=c.1g(f,N.U).3X().6e(c.1g(0,l).3X())}8(K b=='I')b.1z($19,d);J d});A.13(L('1Y',H)+' '+L('22',H)+' '+L('1U',H),I(e,a){e.1e();F b=e.4w.3U(H.3o.3B.V);8(K a=='I')a.1z($19,C[b]);J C[b]});A.13(L('6c',H,O),I(e,a,b,c){e.1e();J A.1A(L('4v',H),[a,b,c])});A.13(L('4v',H),I(e,a,b,c){e.1e();F d=O;8(K a=='I'){a.1z($19,7)}Q 8(K a=='1k'){2y=$.26(M,{},2y,a);8(b!==O)d=M;Q 7=$.26(M,{},7,a)}Q 8(K a!='1y'){8(K b=='I'){F f=46('7.'+a);8(K f=='1y')f='';b.1z($19,f)}Q 8(K b!='1y'){8(K c!=='1r')c=M;46('2y.'+a+' = b');8(c!==O)d=M;Q 46('7.'+a+' = b')}Q{J 46('7.'+a)}}8(d){1M(A.11(),7);A.44(2y);A.4Q();F g=3L(A,7,O);A.X(L('2B',H),[M,g])}J 7});A.13(L('4O',H),I(e,a,b){e.1e();8(K a=='1y'||a.V==0)a=$('6M');Q 8(K a=='1l')a=$(a);8(K a!='1k')J 1c(H,'2b a 4q 1k.');8(K b!='1l'||b.V==0)b='a.6g';a.6O(b).1P(I(){F h=1i.6h||'';8(h.V>0&&A.11().6j($(h))!=-1){$(1i).21('4S').4S(I(e){e.25();A.X(L('2W',H),h)})}});J M});A.13(L('2B',H),I(e,b,c){e.1e();8(!7.1b.1C)J;8(b){F d=7.1b.G||7.G.P,l=1O.2O(N.U/d);8(7.1b.34){7.1b.1C.11().1J();7.1b.1C.1P(I(){1o(F a=0;a<l;a++){F i=A.11().1L(3u(a*d,0,M,N,A));$(1i).65(7.1b.34(a+1,i))}})}7.1b.1C.1P(I(){$(1i).11().21(7.1b.3i).1P(I(a){$(1i).13(7.1b.3i,I(e){e.25();A.X(L('2W',H),[a*d,0,M,7.1b])})})})}7.1b.1C.1P(I(){$(1i).11().2v(2l('5s',H)).1L(A.1A(L('3Q',H))).31(2l('5s',H))});J M});A.13(L('4M',H),I(e){F a=A.11(),3D=7.G.P;8(7.G.12.1d)3D=2J(a,7,0);Q 8(7.G.1v!='*')3D=3R(a,7,0);8(!7.1N&&N.Z!=0&&3D>N.Z){8(7.G.12.1d){F b=47(a,7,N.Z)-N.Z}Q 8(7.G.1v!='*'){F b=5u(a,7,N.Z)-N.Z}Q{b=7.G.P-N.Z}1c(H,'77 78-1N: 79 '+b+' G 4X.');A.X('17',b)}7.G.P=2N(3D,7,7.G.12.2p,$19);J 3L(A,7)});A.13(L('68',H,O),I(e,a){e.1e();A.X(L('5v',H),a);J M});A.13(L('5v',H),I(e,a){e.1e();1F=3d(1F);A.1q('4t',O);A.X(L('4I',H));8(a){A.X(L('5J',H))}8(7.1t){1M(A.11(),7)}A.16(A.1q('5V'));A.4L();A.4W();$1D.7f(A);J M})};A.4L=I(){A.21(L('',H));A.21(L('',H,O))};A.4Q=I(){A.4W();3M(7,N.U,H);2T(7,N.Z,H);8(7.T.2m){F c=3m(7.T.2m);$1D.13(L('4k',H,O),I(){A.X(L('2X',H),c)}).13(L('4h',H,O),I(){A.X(L('2H',H))})}8(7.T.Y){7.T.Y.13(L(7.T.3i,H,O),I(e){e.25();F a=O,c=2c;8(C.1Y){a='1G'}Q 8(7.T.3W){a='2X';c=3m(7.T.3W)}8(a){A.X(L(a,H),c)}})}8(7.17.Y){7.17.Y.13(L(7.17.3i,H,O),I(e){e.25();A.X(L('17',H))});8(7.17.2m){F c=3m(7.17.2m);7.17.Y.13(L('4k',H,O),I(){A.X(L('2X',H),c)}).13(L('4h',H,O),I(){A.X(L('2H',H))})}}8(7.1a.Y){7.1a.Y.13(L(7.1a.3i,H,O),I(e){e.25();A.X(L('1a',H))});8(7.1a.2m){F c=3m(7.1a.2m);7.1a.Y.13(L('4k',H,O),I(){A.X(L('2X',H),c)}).13(L('4h',H,O),I(){A.X(L('2H',H))})}}8($.1R.2A){8(7.17.2A){8(!C.51){C.51=M;$1D.2A(I(e,a){8(a>0){e.25();F b=52(7.17.2A);A.X(L('17',H),b)}})}}8(7.1a.2A){8(!C.53){C.53=M;$1D.2A(I(e,a){8(a<0){e.25();F b=52(7.1a.2A);A.X(L('1a',H),b)}})}}}8($.1R.3A){F d=(7.17.54)?I(){A.X(L('17',H))}:2c,3y=(7.1a.54)?I(){A.X(L('1a',H))}:2c;8(3y||3y){8(!C.3A){C.3A=M;F f={'7x':30,'7A':30,'7C':M};1x(7.2r){W'4E':W'5H':f.7N=3y;f.7O=d;18;2z:f.7Q=3y;f.6v=d}$1D.3A(f)}}}8(7.1b.1C){8(7.1b.2m){F c=3m(7.1b.2m);7.1b.1C.13(L('4k',H,O),I(){A.X(L('2X',H),c)}).13(L('4h',H,O),I(){A.X(L('2H',H))})}}8(7.17.2w||7.1a.2w){$(3I).13(L('5K',H,O,M,M),I(e){F k=e.5L;8(k==7.1a.2w){e.25();A.X(L('1a',H))}8(k==7.17.2w){e.25();A.X(L('17',H))}})}8(7.1b.48){$(3I).13(L('5K',H,O,M,M),I(e){F k=e.5L;8(k>=49&&k<58){k=(k-49)*7.G.P;8(k<=N.U){e.25();A.X(L('2W',H),[k,0,M,7.1b])}}})}8(7.T.1G){A.X(L('1G',H),7.T.56)}8(C.4A){$(3t).13(L('6C',H,O,M,M),I(e){A.X(L('4I',H));8(7.T.55&&!C.1Y){A.X(L('1G',H))}1M(A.11(),7);A.44(2y);F a=3L(A,7,O);A.X(L('2B',H),[M,a])})}};A.4W=I(){F a=L('',H),3s=L('',H,O);57=L('',H,O,M,M);$(3I).21(57);$(3t).21(57);$1D.21(3s);8(7.T.Y)7.T.Y.21(3s);8(7.17.Y)7.17.Y.21(3s);8(7.1a.Y)7.1a.Y.21(3s);8(7.1b.1C){7.1b.1C.21(3s);8(7.1b.34){7.1b.1C.11().1J()}}3M(7,'3f',H);2T(7,'2v',H)};F C={'2r':'1a','1Y':M,'1U':O,'22':O,'53':O,'51':O,'3A':O},N={'U':A.11().V,'Z':0},1F={'6F':2c,'T':2c,'3k':2c,'2Q':2C(),'3v':0},R={'22':O,'1j':0,'2Q':0,'1I':'','1f':[]},1X={'2a':[],'24':[]},1S=[],H=$.26(M,{},$.1R.1K.5P,z),7={},2y=y,$1D=A.6H('<'+H.59.4C+' 6J=\"'+H.59.5R+'\" />').3e();H.3Y=A.3Y;H.45=$.1R.1K.45++;A.44(2y,M,B);A.5t();A.5S();A.4Q();8(2V(7.G.2K)){F D=7.G.2K}Q{F D=[];8(7.G.2K!=0){D.1n(7.G.2K)}}8(7.2t){D.6N(5U(7.2t))}8(D.V>0){1o(F a=0,l=D.V;a<l;a++){F s=D[a];8(s==0){5b}8(s===M){s=3t.6P.6h;8(s.V<1){5b}}Q 8(s==='5W'){s=1O.35(1O.5W()*N.U)}8(A.1A(L('2W',H),[s,0,M,{1H:'4g'}])){18}}}F E=3L(A,7,O),5Y=3p(A.11(),7);8(7.5Z){7.5Z.1z($19,5Y,E)}A.X(L('2B',H),[M,E]);A.X(L('4O',H));J A};$.1R.1K.45=1;$.1R.1K.4x={'2j':O,'3h':M,'1N':M,'2L':O,'2r':'1s','G':{'2K':0},'1m':{'1I':'6U','1j':5N,'2m':O,'2A':O,'54':O,'3i':'4S','3k':O}};$.1R.1K.5P={'1c':O,'3o':{'3B':'','60':'6W'},'59':{'4C':'6X','5R':'6Y'},'5c':{}};$.1R.1K.5M=I(a,b){J'<a 70=\"#\"><62>'+a+'</62></a>'};I 20(d,e){J{1f:[],1j:d,4B:d,1I:e,2Q:2C()}}I 2f(s){8(K s.1p=='1k'){2f(s.1p)}1o(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];8(!b)5b;8(b[3])b[0].4J();b[0].63(b[1],{64:b[2],1j:s.1j,1I:s.1I})}8(K s.1Q=='1k'){2f(s.1Q)}}I 3P(s,c){8(K c!='1r')c=M;8(K s.1p=='1k'){3P(s.1p,c)}1o(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];b[0].4J(M);8(c){b[0].16(b[1]);8(K b[2]=='I')b[2]()}}8(K s.1Q=='1k'){3P(s.1Q,c)}}I 3d(t){8(t.T)74(t.T);J t}I 3z(b,t,c){8(b.V){1o(F a=0,l=b.V;a<l;a++){b[a].3E(t,c)}}J[]}I 75(a,c,x,d,f){F o={'1j':d,'1I':a.1I};8(K f=='I')o.64=f;c.63({2g:x},o)}I 4y(a,b,c,o,d){F e=2E(4G(b.11(),o),o,M)[0],5d=2E(c.11(),o,M)[0],41=(d)?-5d:e,2D={},3l={};2D[o.d['S']]=5d;2D[o.d['1s']]=41;3l[o.d['1s']]=0;a.1p.1f.1n([b,{'2g':1}]);a.1Q.1f.1n([c,3l,I(){$(1i).1J()}]);c.16(2D);J a}I 4z(a,b,c,o,d,n){F e=2E(4H(b.11(),o,n),o,M)[0],5f=2E(c.11(),o,M)[0],41=(d)?-5f:e,2D={},3l={};2D[o.d['S']]=5f;2D[o.d['1s']]=0;3l[o.d['1s']]=41;a.1Q.1f.1n([c,3l,I(){$(1i).1J()}]);c.16(2D);J a}I 3M(o,t,c){8(t=='3j'||t=='3f'){F f=t}Q 8(o.G.3r>=t){1c(c,'2b 5F G: 7b 7c ('+t+' G, '+o.G.3r+' 5E).');F f='3f'}Q{F f='3j'}F s=(f=='3j')?'2v':'31',h=2l('2P',c);8(o.T.Y)o.T.Y[f]()[s](h);8(o.17.Y)o.17.Y[f]()[s](h);8(o.1a.Y)o.1a.Y[f]()[s](h);8(o.1b.1C)o.1b.1C[f]()[s](h)}I 2T(o,f,c){8(o.1N||o.3h)J;F a=(f=='2v'||f=='31')?f:O,4o=2l('7e',c);8(o.T.Y&&a){o.T.Y[a](4o)}8(o.17.Y){F b=a||(f==0)?'31':'2v';o.17.Y[b](4o)}8(o.1a.Y){F b=a||(f==o.G.P)?'31':'2v';o.1a.Y[b](4o)}}I 4p(a,b){8(K b=='I')b=b.1z(a);8(K b=='1y')b={};J b}I 3w(a,b,c){8(K c!='1l')c='';b=4p(a,b);8(K b=='1l'){F d=5h(b);8(d==-1)b=$(b);Q b=d}8(c=='1b'){8(K b=='1r')b={'48':b};8(K b.3b!='1y')b={'1C':b};8(K b.1C=='I')b.1C=b.1C.1z(a);8(K b.1C=='1l')b.1C=$(b.1C);8(K b.G!='14')b.G=O}Q 8(c=='T'){8(K b.3b!='1y')b={'Y':b};8(K b=='1r')b={'1G':b};8(K b=='14')b={'3q':b};8(K b.Y=='I')b.Y=b.Y.1z(a);8(K b.Y=='1l')b.Y=$(b.Y)}Q{8(K b.3b!='1y')b={'Y':b};8(K b=='14')b={'2w':b};8(K b.Y=='I')b.Y=b.Y.1z(a);8(K b.Y=='1l')b.Y=$(b.Y);8(K b.2w=='1l')b.2w=5h(b.2w)}J b}I 3u(a,b,c,d,e){8(K a=='1l'){8(2s(a))a=$(a);Q a=2o(a)}8(K a=='1k'){8(K a.3b=='1y')a=$(a);a=e.11().6j(a);8(a==-1)a=0;8(K c!='1r')c=O}Q{8(K c!='1r')c=M}8(2s(a))a=0;Q a=2o(a);8(2s(b))b=0;Q b=2o(b);8(c){a+=d.Z}a+=b;8(d.U>0){1Z(a>=d.U){a-=d.U}1Z(a<0){a+=d.U}}J a}I 47(i,o,s){F t=0,x=0;1o(F a=s;a>=0;a--){F j=i.1L(a);t+=(j.1W(':P'))?j[o.d['27']](M):0;8(t>o.3S)J x;8(a==0)a=i.V;x++}}I 5u(i,o,s){J 5i(i,o.G.1v,o.G.12.4c,s)}I 6t(i,o,s,m){J 5i(i,o.G.1v,m,s)}I 5i(i,f,m,s){F t=0,x=0;1o(F a=s,l=i.V-1;a>=0;a--){x++;8(x==l)J x;F j=i.1L(a);8(j.1W(f)){t++;8(t==m)J x}8(a==0)a=i.V}}I 4V(a,o){J o.G.12.4c||a.11().1g(0,o.G.P).1v(o.G.1v).V}I 2J(i,o,s){F t=0,x=0;1o(F a=s,l=i.V-1;a<=l;a++){F j=i.1L(a);t+=(j.1W(':P'))?j[o.d['27']](M):0;8(t>o.3S)J x;x++;8(x==l)J x;8(a==l)a=-1}}I 4F(i,o,s,l){F v=2J(i,o,s);8(!o.1N){8(s+v>l)v=l-s}J v}I 3R(i,o,s){J 5j(i,o.G.1v,o.G.12.4c,s,o.1N)}I 5w(i,o,s,m){J 5j(i,o.G.1v,m+1,s,o.1N)-1}I 5j(i,f,m,s,c){F t=0,x=0;1o(F a=s,l=i.V-1;a<=l;a++){x++;8(x==l)J x;F j=i.1L(a);8(j.1W(f)){t++;8(t==m)J x}8(a==l)a=-1}}I 3p(i,o){J i.1g(0,o.G.P)}I 6l(i,o,n){J i.1g(n,o.G.12.2q+n)}I 6b(i,o){J i.1g(0,o.G.P)}I 4G(i,o){J i.1g(0,o.G.12.2q)}I 4H(i,o,n){J i.1g(n,o.G.P+n)}I 1M(i,o,m){F x=(K m=='1r')?m:O;8(K m!='14')m=0;i.1P(I(){F j=$(1i);F t=2o(j.16(o.d['1E']));8(2s(t))t=0;j.1q('6f',t);j.16(o.d['1E'],((x)?j.1q('6f'):m+j.1q('1V')))})}I 3L(a,o,p){F b=a.3e(),$i=a.11(),$v=3p($i,o),42=4a(2E($v,o,M),o,p);b.16(42);8(o.1t){F p=o.1h,r=p[o.d[1]];8(o.1B){8(r<0)r=0}F c=$v.2I();c.16(o.d['1E'],c.1q('1V')+r);a.16(o.d['32'],p[o.d[0]]);a.16(o.d['1s'],p[o.d[3]])}a.16(o.d['S'],42[o.d['S']]+(36($i,o,'S')*2));a.16(o.d['1u'],5l($i,o,'1u'));J 42}I 2E(i,o,a){F b=36(i,o,'S',a),6i=5l(i,o,'1u',a);J[b,6i]}I 5l(i,o,a,b){8(K b!='1r')b=O;8(K o[o.d[a]]=='14'&&b)J o[o.d[a]];8(K o.G[o.d[a]]=='14')J o.G[o.d[a]];F c=(a.5m().2S('S')>-1)?'27':'2Z';J 3C(i,o,c)}I 3C(i,o,b){F s=0;1o(F a=0,l=i.V;a<l;a++){F j=i.1L(a);F m=(j.1W(':P'))?j[o.d[b]](M):0;8(s<m)s=m}J s}I 3g(b,o,c){8(!b.1W(':P'))J 0;F d=b[o.d[c]](),5n=(o.d[c].5m().2S('S')>-1)?['7p','7q']:['7r','7s'];1o(F a=0,l=5n.V;a<l;a++){F m=2o(b.16(5n[a]));d-=(2s(m))?0:m}J d}I 36(i,o,b,c){8(K c!='1r')c=O;8(K o[o.d[b]]=='14'&&c)J o[o.d[b]];8(K o.G[o.d[b]]=='14')J o.G[o.d[b]]*i.V;F d=(b.5m().2S('S')>-1)?'27':'2Z',s=0;1o(F a=0,l=i.V;a<l;a++){F j=i.1L(a);s+=(j.1W(':P'))?j[o.d[d]](M):0}J s}I 5p(i,o,b){F s=O,v=O;1o(F a=0,l=i.V;a<l;a++){F j=i.1L(a);F c=(j.1W(':P'))?j[o.d[b]](M):0;8(s===O)s=c;Q 8(s!=c)v=M;8(s==0)v=M}J v}I 66(i,o,d){J i[o.d['7t'+d]](M)-3g(i,o,'7u'+d)}I 4n(x){J(K x=='1l'&&x.3U(-1)=='%')}I 3Z(s,o){8(4n(o)){o=o.5o(0,o.V-1);8(2s(o))J s;s*=o/3F}J s}I L(n,c,a,b,d){8(K a!='1r')a=M;8(K b!='1r')b=M;8(K d!='1r')d=O;8(a)n=c.3o.3B+n;8(b)n=n+'.'+c.3o.60;8(b&&d)n+=c.45;J n}I 2l(n,c){J(K c.5c[n]=='1l')?c.5c[n]:n}I 4a(a,o,p){8(K p!='1r')p=M;F b=(o.1t&&p)?o.1h:[0,0,0,0];F c={};c[o.d['S']]=a[0]+b[1]+b[3];c[o.d['1u']]=a[1]+b[0]+b[2];J c}I 2Y(c,d){F e=[];1o(F a=0,6n=c.V;a<6n;a++){1o(F b=0,6o=d.V;b<6o;b++){8(d[b].2S(K c[a])>-1&&K e[b]=='1y'){e[b]=c[a];18}}}J e}I 5T(p){8(K p=='1y')J[0,0,0,0];8(K p=='14')J[p,p,p,p];Q 8(K p=='1l')p=p.3a('7z').6q('').3a('7B').6q('').3a(' ');8(!2V(p)){J[0,0,0,0]}1o(F i=0;i<4;i++){p[i]=2o(p[i])}1x(p.V){W 0:J[0,0,0,0];W 1:J[p[0],p[0],p[0],p[0]];W 2:J[p[0],p[1],p[0],p[1]];W 3:J[p[0],p[1],p[2],p[1]];2z:J[p[0],p[1],p[2],p[3]]}}I 4l(a,o){F x=(K o[o.d['S']]=='14')?1O.2O(o[o.d['S']]-36(a,o,'S')):0;1x(o.1B){W'1s':J[0,x];W'2U':J[x,0];W'5r':2z:J[1O.2O(x/2),1O.35(x/2)]}}I 4b(x,o,a,b){F v=x;8(K a=='I'){v=a.1z(b,v)}Q 8(K a=='1l'){F p=a.3a('+'),m=a.3a('-');8(m.V>p.V){F c=M,5q=m[0],2F=m[1]}Q{F c=O,5q=p[0],2F=p[1]}1x(5q){W'7E':v=(x%2==1)?x-1:x;18;W'7F':v=(x%2==0)?x-1:x;18;2z:v=x;18}2F=2o(2F);8(!2s(2F)){8(c)2F=-2F;v+=2F}}8(K v!='14')v=1;8(v<1)v=1;J v}I 2N(x,o,a,b){J 5k(4b(x,o,a,b),o.G.12)}I 5k(v,i){8(K i.2M=='14'&&v<i.2M)v=i.2M;8(K i.2i=='14'&&v>i.2i)v=i.2i;8(v<1)v=1;J v}I 4Z(s){8(!2V(s))s=[[s]];8(!2V(s[0]))s=[s];1o(F j=0,l=s.V;j<l;j++){8(K s[j][0]=='1l')s[j][0]=$(s[j][0]);8(K s[j][1]!='1r')s[j][1]=M;8(K s[j][2]!='1r')s[j][2]=M;8(K s[j][3]!='14')s[j][3]=0}J s}I 5h(k){8(k=='2U')J 39;8(k=='1s')J 37;8(k=='4E')J 38;8(k=='5H')J 40;J-1}I 4D(n,v){8(n)3I.2t=n+'='+v+'; 7G=/'}I 5U(n){n+='=';F b=3I.2t.3a(';');1o(F a=0,l=b.V;a<l;a++){F c=b[a];1Z(c.7H(0)==' '){c=c.5o(1,c.V)}8(c.2S(n)==0){J c.5o(n.V,c.V)}}J 0}I 3m(p){8(p&&K p=='1l'){F i=(p.2S('7I')>-1)?M:O,r=(p.2S('2H')>-1)?M:O}Q{F i=r=O}J[i,r]}I 52(a){J(K a=='14')?a:2c}I 2V(a){J K(a)=='1k'&&(a 7J 7K)}I 2C(){J 7L 7M().2C()}I 1c(d,m){8(K d=='1k'){F s=' ('+d.3Y+')';d=d.1c}Q{F s=''}8(!d)J O;8(K m=='1l')m='1K'+s+': '+m;Q m=['1K'+s+':',m];8(3t.4r&&3t.4r.6u)3t.4r.6u(m);J O}$.1R.6g=I(o,c){J 1i.1K(o,c)};$.26($.1I,{'7P':I(t){F a=t*t;J t*(-a*t+4*a-6*t+4)},'7R':I(t){J t*(4*t*t-9*t+6)},'7S':I(t){F a=t*t;J t*(33*a*a-7T*a*t+7U*a-67*t+15)}})})(7V);",
62,492,"|||||||opts|if|||||||||||||||||||||||||||||||||var|items|conf|function|return|typeof|cf_e|true|itms|false|visible|else|scrl|width|auto|total|length|case|trigger|button|first||children|visibleConf|bind|number||css|prev|break|tt0|next|pagination|debug|variable|stopPropagation|anims|slice|padding|this|duration|object|string|scroll|push|for|pre|data|boolean|left|usePadding|height|filter|a_dur|switch|undefined|call|triggerHandler|align|container|wrp|marginRight|tmrs|play|fx|easing|remove|carouFredSel|eq|sz_resetMargin|circular|Math|each|post|fn|queu|c_new|isScrolling|cfs_origCssMargin|is|clbk|isPaused|while|sc_setScroll|unbind|isStopped|stopImmediatePropagation|onAfter|preventDefault|extend|outerWidth|l_cur|w_siz|onBefore|Not|null|l_old|crossfade|sc_startScroll|opacity|uncover|max|synchronise|pR|cf_c|pauseOnHover|c_old|parseInt|adjust|old|direction|isNaN|cookie|fade|removeClass|key|l_new|opts_orig|default|mousewheel|updatePageStatus|getTime|css_o|ms_getSizes|adj|cover|resume|last|gn_getVisibleItemsNext|start|responsive|min|cf_getItemsAdjust|ceil|hidden|startTime|scrolling|indexOf|nv_enableNavi|right|is_array|slideTo|pause|cf_sortParams|outerHeight||addClass|top||anchorBuilder|floor|ms_getTotalSize||||split|jquery|innerWidth|sc_clearTimers|parent|hide|ms_getTrueInnerSize|infinite|event|show|queue|ani_o|bt_pauseOnHoverConfig|Carousel|events|gi_getCurrentItems|pauseDuration|minimum|ns2|window|gn_getItemIndex|timePassed|go_getNaviObject|dur2|wN|sc_callCallbacks|touchwipe|prefix|ms_getTrueLargestSize|vI|apply|100|perc|currentPosition|document|to|position|sz_setSizes|nv_showNavi|before|appendTo|sc_stopScroll|currentPage|gn_getVisibleItemsNextFilter|maxDimention|of|substr|marginBottom|pauseOnEvent|get|selector|ms_getPercentage||cur_l|sz|stopped|_cfs_init|serialNumber|eval|gn_getVisibleItemsPrev|keys||cf_mapWrapperSizes|cf_getAdjust|org|onEnd|end|clone|none|mouseleave|Number|isHidden|mouseenter|cf_getAlignPadding|orgW|ms_isPercentage|di|go_getObject|valid|console|not|cfs_isCarousel|conditions|configuration|type|defaults|fx_cover|fx_uncover|upDateOnWindowResize|orgDuration|element|cf_setCookie|up|gn_getVisibleItemsNextTestCircular|gi_getOldItemsNext|gi_getNewItemsNext|finish|stop|slideToPage|_cfs_unbind_events|updateSizes|absolute|linkAnchors|marginLeft|_cfs_bind_buttons|marginTop|click|float|textAlign|gn_getVisibleOrg|_cfs_unbind_buttons|backward|scrolled|cf_getSynchArr||mousewheelPrev|bt_mousesheelNumber|mousewheelNext|wipe|pauseOnResize|delay|ns3||wrapper|bottom|continue|classnames|new_w|nw|old_w|seco|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|cf_getItemAdjustMinMax|ms_getLargestSize|toLowerCase|arr|substring|ms_hasVariableSizes|sta|center|selected|_cfs_build|gn_getVisibleItemsPrevFilter|destroy|gn_getScrollItemsNextFilter|forward|page|directscroll|Item|the|new_m|innerHeight|needed|enough|dx|down|onPauseStart|jumpToStart|keyup|keyCode|pageAnchorBuilder|500|No|configs|onPauseEnd|classname|_cfs_bind_events|cf_getPadding|cf_readCookie|cfs_origCss|random|fixed|itm|onCreate|namespace|after|span|animate|complete|append|ms_getPaddingBorderMargin||_cfs_destroy|secp|_cfs_currentPosition|gi_getNewItemsPrev|_cfs_configuration|onPausePause|concat|cfs_tempCssMargin|caroufredsel|hash|s2|index|Set|gi_getOldItemsPrev|Scrolling|l1|l2|shift|join|_cfs_slide_|paused|gn_getScrollItemsPrevFilter|log|wipeRight|The|found|Callback|returned|automatically|second|resize|removeItem|round|timer|currentVisible|wrap|or|class|_cfs_slide_prev|attr|body|unshift|find|location|id|moved|relative|overflow|swing|_cfs_slide_next|cfs|div|caroufredsel_wrapper|Infinity|href|Available|Width|be|clearTimeout|fx_fade|widths|Preventing|non|sliding|setTimeout|hiding|navigation|should|disabled|replaceWith|prependTo|prevPage|heights|Page|nextPage|2500|prepend|carousel|resumed|paddingLeft|paddingRight|paddingTop|paddingBottom|outer|inner|option|insertItem|min_move_x|currently|px|min_move_y|em|preventDefaultEvents|caroufredsel_cookie_|even|odd|path|charAt|immediate|instanceof|Array|new|Date|wipeUp|wipeDown|quadratic|wipeLeft|cubic|elastic|106|126|jQuery".split("|"),
0,{}));(function(e,h,l){function m(b){return b}function n(b){return decodeURIComponent(b.replace(p," "))}var p=/\+/g,d=e.cookie=function(b,c,a){if(c!==l){a=e.extend({},d.defaults,a);null===c&&(a.expires=-1);if("number"===typeof a.expires){var f=a.expires,g=a.expires=new Date;g.setDate(g.getDate()+f)}c=d.json?JSON.stringify(c):String(c);return h.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+
a.domain:"",a.secure?"; secure":""].join("")}c=d.raw?m:n;a=h.cookie.split("; ");f=0;for(g=a.length;f<g;f++){var k=a[f].split("=");if(c(k.shift())===b)return b=c(k.join("=")),d.json?JSON.parse(b):b}return null};d.defaults={};e.removeCookie=function(b,c){return null!==e.cookie(b)?(e.cookie(b,null,c),!0):!1}})(jQuery,document);(function(b,a,c){b.fn.jScrollPane=function(e){function d(D,O){var ay,Q=this,Y,aj,v,al,T,Z,y,q,az,aE,au,i,I,h,j,aa,U,ap,X,t,A,aq,af,am,G,l,at,ax,x,av,aH,f,L,ai=true,P=true,aG=false,k=false,ao=D.clone(false,false).empty(),ac=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aH=D.css("paddingTop")+" "+D.css("paddingRight")+" "+D.css("paddingBottom")+" "+D.css("paddingLeft");f=(parseInt(D.css("paddingLeft"),10)||0)+(parseInt(D.css("paddingRight"),10)||0);function ar(aQ){var aL,aN,aM,aJ,aI,aP,aO=false,
aK=false;ay=aQ;if(Y===c){aI=D.scrollTop();aP=D.scrollLeft();D.css({overflow:"hidden",padding:0});aj=D.innerWidth()+f;v=D.innerHeight();D.width(aj);Y=b('<div class="jspPane" />').css("padding",aH).append(D.children());al=b('<div class="jspContainer" />').css({width:aj+"px",height:v+"px"}).append(Y).appendTo(D)}else{D.css("width","");aO=ay.stickToBottom&&K();aK=ay.stickToRight&&B();aJ=D.innerWidth()+f!=aj||D.outerHeight()!=v;if(aJ){aj=D.innerWidth()+f;v=D.innerHeight();al.css({width:aj+"px",height:v+
"px"})}if(!aJ&&L==T&&Y.outerHeight()==Z){D.width(aj);return}L=T;Y.css("width","");D.width(aj);al.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Y.css("overflow","auto");if(aQ.contentWidth)T=aQ.contentWidth;else T=Y[0].scrollWidth;Z=Y[0].scrollHeight;Y.css("overflow","");y=T/aj;q=Z/v;az=q>1;aE=y>1;if(!(aE||az)){D.removeClass("jspScrollable");Y.css({top:0,width:al.width()-f});n();E();R();w()}else{D.addClass("jspScrollable");aL=ay.maintainPosition&&(I||aa);if(aL){aN=aC();aM=aA()}aF();z();
F();if(aL){N(aK?T-aj:aN,false);M(aO?Z-v:aM,false)}J();ag();an();if(ay.enableKeyboardNavigation)S();if(ay.clickOnTrack)p();C();if(ay.hijackInternalLinks)m()}if(ay.autoReinitialise&&!av)av=setInterval(function(){ar(ay)},ay.autoReinitialiseDelay);else if(!ay.autoReinitialise&&av)clearInterval(av);aI&&D.scrollTop(0)&&M(aI,false);aP&&D.scrollLeft(0)&&N(aP,false);D.trigger("jsp-initialised",[aE||az])}function aF(){if(az){al.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),
b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));U=al.find(">.jspVerticalBar");ap=U.find(">.jspTrack");au=ap.find(">.jspDrag");if(ay.showArrows){aq=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aD(0,-1)).bind("click.jsp",aB);af=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aD(0,1)).bind("click.jsp",aB);if(ay.arrowScrollOnHover){aq.bind("mouseover.jsp",
aD(0,-1,aq));af.bind("mouseover.jsp",aD(0,1,af))}ak(ap,ay.verticalArrowPositions,aq,af)}t=v;al.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){t-=b(this).outerHeight()});au.hover(function(){au.addClass("jspHover")},function(){au.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",aB);au.addClass("jspActive");var s=aI.pageY-au.position().top;b("html").bind("mousemove.jsp",function(aJ){V(aJ.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",
aw);return false});o()}}function o(){ap.height(t+"px");I=0;X=ay.verticalGutter+ap.outerWidth();Y.width(aj-X-f);try{if(U.position().left===0)Y.css("margin-left",X+"px")}catch(s){}}function z(){if(aE){al.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));am=al.find(">.jspHorizontalBar");
G=am.find(">.jspTrack");h=G.find(">.jspDrag");if(ay.showArrows){ax=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aD(-1,0)).bind("click.jsp",aB);x=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aD(1,0)).bind("click.jsp",aB);if(ay.arrowScrollOnHover){ax.bind("mouseover.jsp",aD(-1,0,ax));x.bind("mouseover.jsp",aD(1,0,x))}ak(G,ay.horizontalArrowPositions,ax,x)}h.hover(function(){h.addClass("jspHover")},function(){h.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",
aB);h.addClass("jspActive");var s=aI.pageX-h.position().left;b("html").bind("mousemove.jsp",function(aJ){W(aJ.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",aw);return false});l=al.innerWidth();ah()}}function ah(){al.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){l-=b(this).outerWidth()});G.width(l+"px");aa=0}function F(){if(aE&&az){var aI=G.outerHeight(),s=ap.outerWidth();t-=aI;b(am).find(">.jspCap:visible,>.jspArrow").each(function(){l+=b(this).outerWidth()});
l-=s;v-=s;aj-=aI;G.parent().append(b('<div class="jspCorner" />').css("width",aI+"px"));o();ah()}if(aE)Y.width(al.outerWidth()-f+"px");Z=Y.outerHeight();q=Z/v;if(aE){at=Math.ceil(1/y*l);if(at>ay.horizontalDragMaxWidth)at=ay.horizontalDragMaxWidth;else if(at<ay.horizontalDragMinWidth)at=ay.horizontalDragMinWidth;h.width(at+"px");j=l-at;ae(aa)}if(az){A=Math.ceil(1/q*t);if(A>ay.verticalDragMaxHeight)A=ay.verticalDragMaxHeight;else if(A<ay.verticalDragMinHeight)A=ay.verticalDragMinHeight;au.height(A+
"px");i=t-A;ad(I)}}function ak(aJ,aL,aI,s){var aN="before",aK="after",aM;if(aL=="os")aL=/Mac/.test(navigator.platform)?"after":"split";if(aL==aN)aK=aL;else if(aL==aK){aN=aL;aM=aI;aI=s;s=aM}aJ[aN](aI)[aK](s)}function aD(aI,s,aJ){return function(){H(aI,s,this,aJ);this.blur();return false}}function H(aL,aK,aO,aN){aO=b(aO).addClass("jspActive");var aM,aJ,aI=true,s=function(){if(aL!==0)Q.scrollByX(aL*ay.arrowButtonSpeed);if(aK!==0)Q.scrollByY(aK*ay.arrowButtonSpeed);aJ=setTimeout(s,aI?ay.initialDelay:
ay.arrowRepeatFreq);aI=false};s();aM=aN?"mouseout.jsp":"mouseup.jsp";aN=aN||b("html");aN.bind(aM,function(){aO.removeClass("jspActive");aJ&&clearTimeout(aJ);aJ=null;aN.unbind(aM)})}function p(){w();if(az)ap.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageY-aO.top-I,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageY-aR.top-A/2,aP=v*ay.scrollPagePercent,aQ=i*aP/(Z-v);if(aM<0)if(I-aQ>aS)Q.scrollByY(-aP);else V(aS);
else if(aM>0)if(I+aQ<aS)Q.scrollByY(aP);else V(aS);else{aK();return}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}});if(aE)G.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageX-aO.left-aa,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageX-aR.left-at/2,aP=
aj*ay.scrollPagePercent,aQ=j*aP/(T-aj);if(aM<0)if(aa-aQ>aS)Q.scrollByX(-aP);else W(aS);else if(aM>0)if(aa+aQ<aS)Q.scrollByX(aP);else W(aS);else{aK();return}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}})}function w(){if(G)G.unbind("mousedown.jsp");if(ap)ap.unbind("mousedown.jsp")}function aw(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
if(au)au.removeClass("jspActive");if(h)h.removeClass("jspActive")}function V(s,aI){if(!az)return;if(s<0)s=0;else if(s>i)s=i;if(aI===c)aI=ay.animateScroll;if(aI)Q.animate(au,"top",s,ad);else{au.css("top",s);ad(s)}}function ad(aI){if(aI===c)aI=au.position().top;al.scrollTop(0);I=aI;var aL=I===0,aJ=I==i,aK=aI/i,s=-aK*(Z-v);if(ai!=aL||aG!=aJ){ai=aL;aG=aJ;D.trigger("jsp-arrow-change",[ai,aG,P,k])}u(aL,aJ);Y.css("top",s);D.trigger("jsp-scroll-y",[-s,aL,aJ]).trigger("scroll")}function W(aI,s){if(!aE)return;
if(aI<0)aI=0;else if(aI>j)aI=j;if(s===c)s=ay.animateScroll;if(s)Q.animate(h,"left",aI,ae);else{h.css("left",aI);ae(aI)}}function ae(aI){if(aI===c)aI=h.position().left;al.scrollTop(0);aa=aI;var aL=aa===0,aK=aa==j,aJ=aI/j,s=-aJ*(T-aj);if(P!=aL||k!=aK){P=aL;k=aK;D.trigger("jsp-arrow-change",[ai,aG,P,k])}r(aL,aK);Y.css("left",s);D.trigger("jsp-scroll-x",[-s,aL,aK]).trigger("scroll")}function u(aI,s){if(ay.showArrows){aq[aI?"addClass":"removeClass"]("jspDisabled");af[s?"addClass":"removeClass"]("jspDisabled")}}
function r(aI,s){if(ay.showArrows){ax[aI?"addClass":"removeClass"]("jspDisabled");x[s?"addClass":"removeClass"]("jspDisabled")}}function M(s,aI){var aJ=s/(Z-v);V(aJ*i,aI)}function N(aI,s){var aJ=aI/(T-aj);W(aJ*j,s)}function ab(aV,aQ,aJ){var aN,aK,aL,s=0,aU=0,aI,aP,aO,aS,aR,aT;try{aN=b(aV)}catch(aM){return}aK=aN.outerHeight();aL=aN.outerWidth();al.scrollTop(0);al.scrollLeft(0);while(!aN.is(".jspPane")){s+=aN.position().top;aU+=aN.position().left;aN=aN.offsetParent();if(/^body|html$/i.test(aN[0].nodeName))return}aI=
aA();aO=aI+v;if(s<aI||aQ)aR=s-ay.verticalGutter;else if(s+aK>aO)aR=s-v+aK+ay.verticalGutter;if(aR)M(aR,aJ);aP=aC();aS=aP+aj;if(aU<aP||aQ)aT=aU-ay.horizontalGutter;else if(aU+aL>aS)aT=aU-aj+aL+ay.horizontalGutter;if(aT)N(aT,aJ)}function aC(){return-Y.position().left}function aA(){return-Y.position().top}function K(){var s=Z-v;return s>20&&s-aA()<10}function B(){var s=T-aj;return s>20&&s-aC()<10}function ag(){al.unbind(ac).bind(ac,function(aL,aM,aK,aI){var aJ=aa,s=I;Q.scrollBy(aK*ay.mouseWheelSpeed,
-aI*ay.mouseWheelSpeed,false);return aJ==aa&&s==I})}function n(){al.unbind(ac)}function aB(){return false}function J(){Y.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){ab(s.target,false)})}function E(){Y.find(":input,a").unbind("focus.jsp")}function S(){var s,aI,aK=[];aE&&aK.push(am[0]);az&&aK.push(U[0]);Y.focus(function(){D.focus()});D.unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aN){if(aN.target!==this&&!(aK.length&&b(aN.target).closest(aK).length))return;var aM=
aa,aL=I;switch(aN.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=aN.keyCode;aJ();break;case 35:M(Z-v);s=null;break;case 36:M(0);s=null;break}aI=aN.keyCode==s&&aM!=aa||aL!=I;return!aI}).bind("keypress.jsp",function(aL){if(aL.keyCode==s)aJ();return!aI});if(ay.hideFocus){D.css("outline","none");if("hideFocus"in al[0])D.attr("hideFocus",true)}else{D.css("outline","");if("hideFocus"in al[0])D.attr("hideFocus",false)}function aJ(){var aM=aa,aL=I;switch(s){case 40:Q.scrollByY(ay.keyboardSpeed,
false);break;case 38:Q.scrollByY(-ay.keyboardSpeed,false);break;case 34:case 32:Q.scrollByY(v*ay.scrollPagePercent,false);break;case 33:Q.scrollByY(-v*ay.scrollPagePercent,false);break;case 39:Q.scrollByX(ay.keyboardSpeed,false);break;case 37:Q.scrollByX(-ay.keyboardSpeed,false);break}aI=aM!=aa||aL!=I;return aI}}function R(){D.unbind("keydown.jsp keypress.jsp")}function C(){if(location.hash&&location.hash.length>1){var aK,aI,aJ=escape(location.hash.substr(1));try{aK=b("#"+aJ+', a[name="'+aJ+'"]')}catch(s){return}if(aK.length&&
Y.find(aJ))if(al.scrollTop()===0)aI=setInterval(function(){if(al.scrollTop()>0){ab(aK,true);b(document).scrollTop(al.position().top);clearInterval(aI)}},50);else{ab(aK,true);b(document).scrollTop(al.position().top)}}}function m(){if(b(document.body).data("jspHijack"))return;b(document.body).data("jspHijack",true);b(document.body).delegate("a[href*=#]","click",function(s){var aI=this.href.substr(0,this.href.indexOf("#")),aK=location.href,aO,aP,aJ,aM,aL,aN;if(location.href.indexOf("#")!==-1)aK=location.href.substr(0,
location.href.indexOf("#"));if(aI!==aK)return;aO=escape(this.href.substr(this.href.indexOf("#")+1));aP;try{aP=b("#"+aO+', a[name="'+aO+'"]')}catch(aQ){return}if(!aP.length)return;aJ=aP.closest(".jspScrollable");aM=aJ.data("jsp");aM.scrollToElement(aP,true);if(aJ[0].scrollIntoView){aL=b(a).scrollTop();aN=aP.offset().top;if(aN<aL||aN>aL+b(a).height())aJ[0].scrollIntoView()}s.preventDefault()})}function an(){var aJ,aI,aL,aK,aM,s=false;al.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",
function(aN){var aO=aN.originalEvent.touches[0];aJ=aC();aI=aA();aL=aO.pageX;aK=aO.pageY;aM=false;s=true}).bind("touchmove.jsp",function(aQ){if(!s)return;var aP=aQ.originalEvent.touches[0],aO=aa,aN=I;Q.scrollTo(aJ+aL-aP.pageX,aI+aK-aP.pageY);aM=aM||Math.abs(aL-aP.pageX)>5||Math.abs(aK-aP.pageY)>5;return aO==aa&&aN==I}).bind("touchend.jsp",function(aN){s=false}).bind("click.jsp-touchclick",function(aN){if(aM){aM=false;return false}})}function g(){var s=aA(),aI=aC();D.removeClass("jspScrollable").unbind(".jsp");
D.replaceWith(ao.append(Y.children()));ao.scrollTop(s);ao.scrollLeft(aI);if(av)clearInterval(av)}b.extend(Q,{reinitialise:function(aI){aI=b.extend({},ay,aI);ar(aI)},scrollToElement:function(aJ,aI,s){ab(aJ,aI,s)},scrollTo:function(aJ,s,aI){N(aJ,aI);M(s,aI)},scrollToX:function(aI,s){N(aI,s)},scrollToY:function(s,aI){M(s,aI)},scrollToPercentX:function(aI,s){N(aI*(T-aj),s)},scrollToPercentY:function(aI,s){M(aI*(Z-v),s)},scrollBy:function(aI,s,aJ){Q.scrollByX(aI,aJ);Q.scrollByY(s,aJ)},scrollByX:function(s,
aJ){var aI=aC()+Math[s<0?"floor":"ceil"](s),aK=aI/(T-aj);W(aK*j,aJ)},scrollByY:function(s,aJ){var aI=aA()+Math[s<0?"floor":"ceil"](s),aK=aI/(Z-v);V(aK*i,aJ)},positionDragX:function(s,aI){W(s,aI)},positionDragY:function(aI,s){V(aI,s)},animate:function(aI,aL,s,aK){var aJ={};aJ[aL]=s;aI.animate(aJ,{duration:ay.animateDuration,easing:ay.animateEase,queue:false,step:aK})},getContentPositionX:function(){return aC()},getContentPositionY:function(){return aA()},getContentWidth:function(){return T},getContentHeight:function(){return Z},
getPercentScrolledX:function(){return aC()/(T-aj)},getPercentScrolledY:function(){return aA()/(Z-v)},getIsScrollableH:function(){return aE},getIsScrollableV:function(){return az},getContentPane:function(){return Y},scrollToBottom:function(s){V(i,s)},hijackInternalLinks:b.noop,destroy:function(){g()}});ar(O)}e=b.extend({},b.fn.jScrollPane.defaults,e);b.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var f=
b(this),g=f.data("jsp");if(g)g.reinitialise(e);else{b("script",f).filter('[type="text/javascript"],not([type])').remove();g=new d(f,e);f.data("jsp",g)}})};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:false,animateDuration:300,animateEase:"linear",
hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);(function(b){function A(a,c,f){var d=this;return this.on("click.pjax",a,function(a){var e=b.extend({},p(c,f));e.container||(e.container=b(this).attr("data-pjax")||d);t(a,e)})}function t(a,c,f){f=p(c,f);c=a.currentTarget;if("A"!==c.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||location.protocol!==c.protocol||(location.host!==c.host||c.hash&&c.href.replace(c.hash,"")===location.href.replace(location.hash,"")||
c.href===location.href+"#")||(c={url:c.href,container:b(c).attr("data-pjax"),target:c,fragment:null},e(b.extend({},c,f)),a.preventDefault())}function B(a,c,f){f=p(c,f);c=a.currentTarget;if("FORM"!==c.tagName.toUpperCase())throw"$.pjax.submit requires a form element";c={type:c.method,url:c.action,data:b(c).serializeArray(),container:b(c).attr("data-pjax"),target:c,fragment:null};e(b.extend({},c,f));a.preventDefault()}function e(a){function c(a,c){var d=b.Event(a,{relatedTarget:f});g.trigger(d,c);return!d.isDefaultPrevented()}
a=b.extend(!0,{},b.ajaxSettings,e.defaults,a);b.isFunction(a.url)&&(a.url=a.url());var f=a.target,d=r(a.url).hash,g=a.context=u(a.container);a.data||(a.data={});a.data._pjax=g.selector;var l;a.beforeSend=function(b,d){"GET"!==d.type&&(d.timeout=0);b.setRequestHeader("X-PJAX","true");b.setRequestHeader("X-PJAX-Container",g.selector);if(!c("pjax:beforeSend",[b,d]))return!1;0<d.timeout&&(l=setTimeout(function(){c("pjax:timeout",[b,a])&&b.abort("timeout")},d.timeout),d.timeout=0);a.requestUrl=r(d.url).href};
a.complete=function(b,d){l&&clearTimeout(l);c("pjax:complete",[b,d,a]);c("pjax:end",[b,a])};a.error=function(b,d,e){var f=v("",b,a);b=c("pjax:error",[b,d,e,a]);"GET"==a.type&&"abort"!==d&&b&&s(f.url)};a.success=function(f,k,l){var h=v(f,l,a);if(h.contents){e.state={id:a.id||(new Date).getTime(),url:h.url,title:h.title,container:g.selector,fragment:a.fragment,timeout:a.timeout};(a.push||a.replace)&&window.history.replaceState(e.state,h.title,h.url);h.title&&(document.title=h.title);g.html(h.contents);
"number"===typeof a.scrollTo&&b(window).scrollTop(a.scrollTo);(a.replace||a.push)&&window._gaq&&_gaq.push(["_trackPageview"]);if(""!==d){var m=r(h.url);m.hash=d;e.state.url=m.href;window.history.replaceState(e.state,h.title,m.href);h=b(m.hash);h.length&&b(window).scrollTop(h.offset().top)}c("pjax:success",[f,k,l,a])}else s(h.url)};e.state||(e.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:g.selector,fragment:a.fragment,timeout:a.timeout},window.history.replaceState(e.state,
document.title));var k=e.xhr;k&&4>k.readyState&&(k.onreadystatechange=b.noop,k.abort());e.options=a;k=e.xhr=b.ajax(a);0<k.readyState&&(a.push&&!a.replace&&(C(e.state.id,g.clone().contents()),window.history.pushState(null,"",w(a.requestUrl))),c("pjax:start",[k,a]),c("pjax:send",[k,a]));return e.xhr}function D(a,c){return e(b.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},p(a,c)))}function s(a){window.history.replaceState(null,"","#");window.location.replace(a)}function x(a){if((a=
a.state)&&a.container){var c=b(a.container);if(c.length){var f=m[a.id];if(e.state){var d=e.state.id<a.id?"forward":"back",g=e.state.id,l=c.clone().contents(),k;m[g]=l;"forward"===d?(l=n,k=q):(l=q,k=n);l.push(g);(g=k.pop())&&delete m[g];d=b.Event("pjax:popstate",{state:a,direction:d});c.trigger(d);d={id:a.id,url:a.url,container:c,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};f?(c.trigger("pjax:start",[null,d]),a.title&&(document.title=a.title),c.html(f),e.state=a,c.trigger("pjax:end",
[null,d])):e(d)}else e.state=a}else s(location.href)}}function E(a){var c=b.isFunction(a.url)?a.url():a.url,e=a.type?a.type.toUpperCase():"GET",d=b("<form>",{method:"GET"===e?"GET":"POST",action:c,style:"display:none"});"GET"!==e&&"POST"!==e&&d.append(b("<input>",{type:"hidden",name:"_method",value:e.toLowerCase()}));a=a.data;if("string"===typeof a)b.each(a.split("&"),function(a,c){var e=c.split("=");d.append(b("<input>",{type:"hidden",name:e[0],value:e[1]}))});else if("object"===typeof a)for(key in a)d.append(b("<input>",
{type:"hidden",name:key,value:a[key]}));b(document.body).append(d);d.submit()}function w(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function r(a){var b=document.createElement("a");b.href=a;return b}function p(a,c){a&&c?c.container=a:c=b.isPlainObject(a)?a:{container:a};c.container&&(c.container=u(c.container));return c}function u(a){a=b(a);if(a.length){if(""!==a.selector&&a.context===document)return a;if(a.attr("id"))return b("#"+a.attr("id"));throw"cant get selector for pjax container!";
}throw"no pjax container for "+a.selector;}function v(a,c,e){var d={};d.url=w(c.getResponseHeader("X-PJAX-URL")||e.requestUrl);if(/<html/i.test(a)){c=b(a.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]);var g=b(a.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])}else c=g=b(a);if(0===g.length)return d;d.title=c.filter("title").add(c.find("title")).last().text();e.fragment?(a="body"===e.fragment?g:g.filter(e.fragment).add(g.find(e.fragment)).first(),a.length&&(d.contents=a.contents(),d.title||(d.title=a.attr("title")||
a.data("title")))):/<html/i.test(a)||(d.contents=g);d.contents&&(d.contents=d.contents.not("title"),d.contents.find("title").remove());d.title&&(d.title=b.trim(d.title));return d}function C(a,b){m[a]=b;for(n.push(a);q.length;)delete m[q.shift()];for(;n.length>e.defaults.maxCacheLength;)delete m[n.shift()]}function y(){b.fn.pjax=A;b.pjax=e;b.pjax.enable=b.noop;b.pjax.disable=z;b.pjax.click=t;b.pjax.submit=B;b.pjax.reload=D;b.pjax.defaults={timeout:6500,push:!0,replace:!1,type:"GET",dataType:"html",
scrollTo:0,maxCacheLength:20};b(window).bind("popstate.pjax",x)}function z(){b.fn.pjax=function(){return this};b.pjax=E;b.pjax.enable=y;b.pjax.disable=b.noop;b.pjax.click=b.noop;b.pjax.submit=b.noop;b.pjax.reload=function(){window.location.reload()};b(window).unbind("popstate.pjax",x)}var m={},q=[],n=[];0>b.inArray("state",b.event.props)&&b.event.props.push("state");b.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);
b.support.pjax?y():z()})(jQuery);(function(window,$,undefined){var support={calc:false};$.fn.rrssb=function(options){var settings=$.extend({description:undefined,emailAddress:undefined,emailBody:undefined,emailSubject:undefined,image:undefined,title:undefined,url:undefined},options);settings.emailSubject=settings.emailSubject||settings.title;settings.emailBody=settings.emailBody||(settings.description?settings.description:"")+(settings.url?"\n\n"+settings.url:"");for(var key in settings)if(settings.hasOwnProperty(key)&&settings[key]!==
undefined)settings[key]=encodeString(settings[key]);if(settings.url!==undefined){$(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+settings.url);$(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+settings.url+(settings.title!==undefined?"&name="+settings.title:"")+(settings.description!==undefined?"&description="+settings.description:""));$(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+
settings.url+(settings.title!==undefined?"&title="+settings.title:"")+(settings.description!==undefined?"&summary="+settings.description:""));$(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(settings.description!==undefined?settings.description:"")+"%20"+settings.url);$(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+settings.url+(settings.title!==undefined?"&text="+settings.title:""));$(this).find(".rrssb-vk a").attr("href",
"https://vk.com/share.php?url="+settings.url);$(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+settings.url+(settings.description!==undefined?"&text="+settings.description:"")+(settings.title!==undefined?"&title="+settings.title:""));$(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(settings.description!==undefined?settings.description:"")+"%20"+settings.url);$(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+
settings.url+(settings.image!==undefined?"&amp;media="+settings.image:"")+(settings.description!==undefined?"&description="+settings.description:""));$(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+settings.url);$(this).find(".rrssb-github a").attr("href",settings.url);$(this).find(".rrssb-print a").attr("href","javascript:window.print()");$(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(settings.description!==undefined?settings.description+"%20":
settings.title!==undefined?settings.title+"%20":"")+settings.url)}if(settings.emailAddress!==undefined||settings.emailSubject)$(this).find(".rrssb-email a").attr("href","mailto:"+(settings.emailAddress?settings.emailAddress:"")+"?"+(settings.emailSubject!==undefined?"subject="+settings.emailSubject:"")+(settings.emailBody!==undefined?"&body="+settings.emailBody:""))};var detectCalcSupport=function(){var el=$("<div>");var calcProps=["calc","-webkit-calc","-moz-calc"];$("body").append(el);for(var i=
0;i<calcProps.length;i++){el.css("width",calcProps[i]+"(1px)");if(el.width()===1){support.calc=calcProps[i];break}}el.remove()};var encodeString=function(string){if(string!==undefined&&string!==null&&$.type(string)==="string")if(string.match(/%[0-9a-f]{2}/i)!==null){string=decodeURIComponent(string);encodeString(string)}else return encodeURIComponent(string)};var setPercentBtns=function(){$(".rrssb-buttons").each(function(index){var self=$(this);var buttons=$("li:visible",self);var numOfButtons=buttons.length;
var initBtnWidth=100/numOfButtons;buttons.css("width",initBtnWidth+"%").attr("data-initwidth",initBtnWidth)})};var makeExtremityBtns=function(){$(".rrssb-buttons").each(function(index){var self=$(this);var containerWidth=self.width();var buttonWidth=$("li",self).not(".small").eq(0).width();var buttonCountSmall=$("li.small",self).length;if(buttonWidth>170&&buttonCountSmall<1){self.addClass("large-format");var fontSize=buttonWidth/12+"px";self.css("font-size",fontSize)}else{self.removeClass("large-format");
self.css("font-size","")}if(containerWidth<buttonCountSmall*25)self.removeClass("small-format").addClass("tiny-format");else self.removeClass("tiny-format")})};var backUpFromSmall=function(){$(".rrssb-buttons").each(function(index){var self=$(this);var buttons=$("li",self);var smallButtons=buttons.filter(".small");var totalBtnSze=0;var totalTxtSze=0;var upCandidate=smallButtons.eq(0);var nextBackUp=parseFloat(upCandidate.attr("data-size"))+55;var smallBtnCount=smallButtons.length;if(smallBtnCount===
buttons.length){var btnCalc=smallBtnCount*42;var containerWidth=self.width();if(btnCalc+nextBackUp<containerWidth){self.removeClass("small-format");smallButtons.eq(0).removeClass("small");sizeSmallBtns()}}else{buttons.not(".small").each(function(index){var button=$(this);var txtWidth=parseFloat(button.attr("data-size"))+55;var btnWidth=parseFloat(button.width());totalBtnSze=totalBtnSze+btnWidth;totalTxtSze=totalTxtSze+txtWidth});var spaceLeft=totalBtnSze-totalTxtSze;if(nextBackUp<spaceLeft){upCandidate.removeClass("small");
sizeSmallBtns()}}})};var checkSize=function(init){$(".rrssb-buttons").each(function(index){var self=$(this);var buttons=$("li",self);$(buttons.get().reverse()).each(function(index,count){var button=$(this);if(button.hasClass("small")===false){var txtWidth=parseFloat(button.attr("data-size"))+55;var btnWidth=parseFloat(button.width());if(txtWidth>btnWidth){var btn2small=buttons.not(".small").last();$(btn2small).addClass("small");sizeSmallBtns()}}if(!--count)backUpFromSmall()})});if(init===true)rrssbMagicLayout(sizeSmallBtns)};
var sizeSmallBtns=function(){$(".rrssb-buttons").each(function(index){var self=$(this);var regButtonCount;var regPercent;var pixelsOff;var magicWidth;var smallBtnFraction;var buttons=$("li",self);var smallButtons=buttons.filter(".small");var smallBtnCount=smallButtons.length;if(smallBtnCount>0&&smallBtnCount!==buttons.length){self.removeClass("small-format");smallButtons.css("width","42px");pixelsOff=smallBtnCount*42;regButtonCount=buttons.not(".small").length;regPercent=100/regButtonCount;smallBtnFraction=
pixelsOff/regButtonCount;if(support.calc===false){magicWidth=(self.innerWidth()-1)/regButtonCount-smallBtnFraction;magicWidth=Math.floor(magicWidth*1E3)/1E3;magicWidth+="px"}else magicWidth=support.calc+"("+regPercent+"% - "+smallBtnFraction+"px)";buttons.not(".small").css("width",magicWidth)}else if(smallBtnCount===buttons.length){self.addClass("small-format");setPercentBtns()}else{self.removeClass("small-format");setPercentBtns()}});makeExtremityBtns()};var rrssbInit=function(){$(".rrssb-buttons").each(function(index){$(this).addClass("rrssb-"+
(index+1))});detectCalcSupport();setPercentBtns();$(".rrssb-buttons li .rrssb-text").each(function(index){var buttonTxt=$(this);var txtWdth=buttonTxt.width();buttonTxt.closest("li").attr("data-size",txtWdth)});checkSize(true)};var rrssbMagicLayout=function(callback){$(".rrssb-buttons li.small").removeClass("small");checkSize();callback()};var popupCenter=function(url,title,w,h){var dualScreenLeft=window.screenLeft!==undefined?window.screenLeft:screen.left;var dualScreenTop=window.screenTop!==undefined?
window.screenTop:screen.top;var width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var left=width/2-w/2+dualScreenLeft;var top=height/3-h/3+dualScreenTop;var newWindow=window.open(url,title,"scrollbars=yes, width="+w+", height="+h+", top="+top+", left="+left);if(newWindow&&newWindow.focus)newWindow.focus()};
var waitForFinalEvent=function(){var timers={};return function(callback,ms,uniqueId){if(!uniqueId)uniqueId="Don't call this twice without a uniqueId";if(timers[uniqueId])clearTimeout(timers[uniqueId]);timers[uniqueId]=setTimeout(callback,ms)}}();$(document).ready(function(){try{$(document).on("click",".rrssb-buttons a.popup2",{},function popUp(e){var self=$(this);popupCenter(self.attr("href"),self.find(".rrssb-text").html(),580,470);e.preventDefault()})}catch(e){}$(window).resize(function(){rrssbMagicLayout(sizeSmallBtns);
waitForFinalEvent(function(){rrssbMagicLayout(sizeSmallBtns)},200,"finished resizing")});rrssbInit()});window.rrssbInit=rrssbInit})(window,jQuery);/*
 MIT
*/
var host=window.location.hostname;var scroll_top;var window_width;var window_height;$(window).resize(function(){window_width=$(window).width();window_height=$(window).height();headerToggleOpacity();playerToggleFixed()});$(window).scroll(function(){scroll_top=$(window).scrollTop();headerToggleOpacity();playerToggleFixed()});
function showTopNotify(notify_string){$("#top_error_notify .notify_content").html(notify_string?notify_string:default_notify_string);$("#top_error_notify").fadeIn();setTimeout(function(){$("#top_error_notify").fadeOut()},5E3)}function showTopNotifyNotAutoClose(notify_string){$("#top_error_notify .notify_content").html(notify_string?notify_string:default_notify_string);$("#top_error_notify").fadeIn()}
$(document).ready(function(){function hidePlaylistPreloader(){$(".playlists-list-item").hide();$(".playlists-preloader").fadeOut();$(".playlists-list-item").fadeIn()}scroll_top=$(window).scrollTop();window_height=$(window).height();headerToggleOpacity();playerToggleFixed();$(".search .clear").unbind("click");$(".search .clear").click(function(e){$(".search input.text").val("");e.preventDefault()});if(typeof $.prototype.song=="function"){$(".song").song();$("#player").song({plus:".player-menu-plus"})}$("#close_alert_notify").on("click",
function(){$("#top_error_notify").fadeOut();return false});if(typeof $.prototype.tooltip=="function"){$('.icon-que[data-tool="tooltip"]').tooltip({limit_width:160});$('#plpop-playlists .plus[data-tool="tooltip"]').tooltip({add_class:"whsn"});$(".other_songs .song .mb-tooltip").tooltip({limit_width:240,placement:"bottom"});$(".novelty_clmn  .song .mb-tooltip").tooltip({placement:"bottom",limit_width:200});$(".song .mb-tooltip").tooltip({limit_width:600,placement:"bottom"})}if(typeof $.prototype.tooltip==
"function"){$('*[data-tool="tooltip"]').tooltip({placement:"top"});$('*[data-tool="tooltip-bottom"]').tooltip({placement:"bottom"});$('*[data-tool="tooltip-left"]').tooltip({placement:"left"});$('*[data-tool="tooltip-right"]').tooltip({placement:"right"})}setVisitedSong();var $pane=$(".plpop-scroll-pane");var jScrollSettings={showArrows:true};var api2;if(typeof $.prototype.jScrollPane=="function"){$pane.jScrollPane(jScrollSettings);api2=$pane.data("jsp")}$(".playlist-rename input").unbind("focus");
$(".playlist-rename input").focus(function(){var $this=$(this);var $div=$this.parents(".playlist-wrap:first");$div.addClass("renamed")});$(".playlist-wrap").unbind("hover");$(".playlist-wrap").hover(function(){var $this=$(this);if(!$this.hasClass("renamed")){$(".playlist-wrap").removeClass("renamed");var $this2=$(".playlist-rename input");var $div=$this2.parents(".playlist-wrap:first");$div.removeClass("renamed")}},function(){});$(".popup-trigger").click(function(e){var $this=$(this);var popupID=
$this.attr("data-popup-id");if(popupID=="popup-radio"&&$(this).find(".radio-city")){var city=$(this).find(".radio-city").text();if(city==""||city=="undefined")city="/0";else city="-"+city;$("#radio-list-my").html('<div style="margin-top:77px;margin-bottom:77px;" class="progress-box"><img src="/themes/classic/assets/images/progress.gif"></div>');$("#radio-list-my").load("/ajax/radio"+city,function(){$.zvPlayer.radionInit()})}showPopup(popupID);e.preventDefault()});$(".popup .close, .overlay").click(function(e){hidePopups();
e.preventDefault()});$(".reg-pass-link").click(function(e){var $this=$(this);var $regPassInput=$this.prev("input");var $marker=$("<span />").insertBefore($regPassInput);var val=$regPassInput.val();if($this.hasClass("text")){$regPassInput.detach().attr("type","password").insertAfter($marker).val(val);$(this).removeClass("text")}else{$regPassInput.detach().attr("type","text").insertAfter($marker).val(val);$(this).addClass("text")}$marker.remove();e.preventDefault()});$("#login_form .fp_link").click(function(e){var $box=
$(this).parents(".pop_box:first");var h1=$box.height();$("#login_form").hide();$("#fp_form").show();var c=$("#fp_form").find("#second-captcha");c.attr("src",c.data("url"));var h2=$box.height();animateHeight($box,h1,h2);e.preventDefault()});$("#fp_form .cancel_lnk").click(function(e){var $box=$(this).parents(".pop_box:first");var h1=$box.height();$("#login_form").show();$("#fp_form").hide();var h2=$box.height();animateHeight($box,h1,h2);e.preventDefault()});$(":button, :submit",$("#report_bug_form")).click(function(e){showPopup("popup-success");
e.preventDefault()});if(typeof $.prototype.carouFredSel=="function")$("#radio-carou").carouFredSel({auto:{play:false},items:{start:0,visible:1},duration:400,scroll:{items:1,fx:"crossfade",duration:400},prev:"#radio-carou-prev",next:"#radio-carou-next",pagination:"#radio-carou-pag"})});function saveSongIdCookie(songID){var cookie=$.cookie("songidCookie");if(cookie)$.cookie("songidCookie",cookie+","+songID);else $.cookie("songidCookie",songID)}
function setVisitedSong(){var idArray={};if($.cookie("songidCookie"))idArray=$.cookie("songidCookie").split(",");for(var x=0;x<idArray.length;x++)$('a[data-sid="'+idArray[x]+'"].download').addClass("visited").attr("data-original-title","")}
function animateCount($countBox,delta){var h=$countBox.height();var html=$countBox.html();var $span=$("<span />").html(html);var num=parseInt(html);num=num+delta;var $newSpan=$("<span />").html(num);$countBox.html($span);$countBox.append($newSpan);$span.css({position:"relative",top:"0px"});$newSpan.css({position:"absolute",right:"0px",top:-h+"px"});$span.animate({top:h+3+"px"},600,function(){});$newSpan.animate({top:"0px"},600,function(){$countBox.html(num)})}
function headerToggleOpacity(){if(scroll_top>40)$("#header").addClass("opacity");else $("#header").removeClass("opacity");$(window).trigger("scrollM")}
function detectflash(){if(navigator.plugins!=null&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"]&&true;if(~navigator.userAgent.toLowerCase().indexOf("webtv"))return true;if(~navigator.appVersion.indexOf("MSIE")&&!~navigator.userAgent.indexOf("Opera"))try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&true}catch(e){}return false}
function playerToggleFixed(){var document_height=$(document).height();var footer_height=$("#footer").height();var rest=document_height-scroll_top-window_height;if(rest>footer_height)$("#player").addClass("fixed");else $("#player").removeClass("fixed")}
function showPopup(id){hidePopups();var $pop=$("#"+id);var pop_height=$pop.outerHeight();var top=30;var d=10;if(is_brand==1)d=409;if($(window).height()-50>pop_height)top=($(window).height()-pop_height)/2+$(document).scrollTop()-d;else top=30+$(document).scrollTop();$pop.css({top:top+"px",visibility:"visible"}).fadeIn(300);$(".overlay").show();return false}
function getRealDocHeight(){var D=document;return Math.max(D.body.scrollHeight,D.documentElement.scrollHeight,D.body.offsetHeight,D.documentElement.offsetHeight,D.body.clientHeight,D.documentElement.clientHeight)}function hidePopups(){$(".overlay").hide();$(".popup").fadeOut(0);$("#fp_form").hide()}function animateHeight($box,h1,h2){$box.height(h1);$box.animate({height:h2},400,function(){$box.css("height","auto")})}
jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined)options.expires=-1;if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}value=String(value);return document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+
options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=(new RegExp("(?:^|; )"+encodeURIComponent(key)+"=([^;]*)")).exec(document.cookie))?decode(result[1]):null};if(jQuery.browser.mozilla||jQuery.browser.opera){document.removeEventListener("DOMContentLoaded",jQuery.ready,false);document.addEventListener("DOMContentLoaded",function(){jQuery.ready()},false)}
jQuery.event.remove(window,"load",jQuery.ready);jQuery.event.add(window,"load",function(){jQuery.ready()});
jQuery.extend({includeStates:{},include:function(url,callback,dependency){if(typeof callback!="function"&&!dependency){dependency=callback;callback=null}url=url.replace("\n","");jQuery.includeStates[url]=false;var script=document.createElement("script");script.type="text/javascript";script.onload=function(){jQuery.includeStates[url]=true;if(callback)callback.call(script)};script.onreadystatechange=function(){if(this.readyState!="complete"&&this.readyState!="loaded")return;jQuery.includeStates[url]=
true;if(callback)callback.call(script)};script.src=url;if(dependency){if(dependency.constructor!=Array)dependency=[dependency];setTimeout(function(){var valid=true;$.each(dependency,function(k,v){if(!v()){valid=false;return false}});if(valid)document.getElementsByTagName("head")[0].appendChild(script);else setTimeout(arguments.callee,10)},10)}else document.getElementsByTagName("head")[0].appendChild(script);return function(){return jQuery.includeStates[url]}},readyOld:jQuery.ready,ready:function(){if(jQuery.isReady)return;
imReady=true;$.each(jQuery.includeStates,function(url,state){if(!state)return imReady=false});if(imReady)jQuery.readyOld.apply(jQuery,arguments);else setTimeout(arguments.callee,10)}});!function($){var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.enabled=true;if(this.options.trigger=="click")this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if(this.options.trigger!="manual"){eventIn=this.options.trigger=="hover"?"mouseenter":"focus";eventOut=
this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle();var cl=this;this.$element.bind("mousemove mousedown",function(e){if(e.which==1)cl.show()})},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,
this.$element.data());if(options.delay&&typeof options.delay=="number")options.delay={show:options.delay,hide:options.delay};return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);if(!self.options.delay||!self.options.delay.show)return self.show();clearTimeout(this.timeout);self.hoverState="in";this.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);
if(this.timeout)clearTimeout(this.timeout);if(!self.options.delay||!self.options.delay.hide)return self.hide();self.hoverState="out";this.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp;if(this.hasContent()&&this.enabled){$tip=this.tip();this.setContent();if(this.options.animation)$tip.addClass("fade");placement=typeof this.options.placement=="function"?this.options.placement.call(this,
$tip[0],this.$element[0]):this.options.placement;inside=/in/.test(placement);$tip.remove().css({top:0,left:0,display:"block"}).appendTo(inside?this.$element:document.body);pos=this.getPosition(inside);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;if(actualWidth>this.options.limit_width)actualWidth=this.options.limit_width;switch(inside?placement.split(" ")[1]:placement){case "bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case "top":tp={top:pos.top-
actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case "left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case "right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width};break}$tip.css(tp).css("max-width",this.options.limit_width+"px").addClass(placement).addClass("in")}},setContent:function(){var $tip=this.tip(),title=this.getTitle();String.prototype.replaceAll2=function(token,newToken,ignoreCase){var str,i=-1,_token;if((str=this.toString())&&
typeof token==="string"){_token=ignoreCase===true?token.toLowerCase():undefined;while((i=_token!==undefined?str.toLowerCase().indexOf(_token,i>=0?i+newToken.length:0):str.indexOf(token,i>=0?i+newToken.length:0))!==-1)str=str.substring(0,i).concat(newToken).concat(str.substring(i+token.length))}return str};title=title.replaceAll2('\\"','"');title=title.replaceAll2("\\'","'");$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")},hide:function(){var that=
this,$tip=this.tip();$tip.removeClass("in");function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout);$tip.remove()})}$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.remove();return this},fixTitle:function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string")$e.attr("data-original-title",$e.attr("title")||"").removeAttr("title")},
hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},inside?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();
this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options=typeof option=="object"&&option;if(!data)$this.data("tooltip",data=new Tooltip(this,
options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:true,limit_width:1E3}}(window.jQuery);!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,
d,j)}a("<img />").bind("load",function(){var d=c.data(j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.data(j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&
e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+
a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,
c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},
"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);
